var SVGPathCommander=function(){"use strict";var on=Object.defineProperty;var cn=(z,L,j)=>L in z?on(z,L,{enumerable:!0,configurable:!0,writable:!0,value:j}):z[L]=j;var A=(z,L,j)=>cn(z,typeof L!="symbol"?L+"":L,j);const z={origin:[0,0,0],round:4},L="SVGPathCommander Error",j={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},St=e=>{let t=e.pathValue[e.segmentStart],n=t.toLowerCase();const{data:r}=e;for(;r.length>=j[n]&&(n==="m"&&r.length>2?(e.segments.push([t,...r.splice(0,2)]),n="l",t=t==="m"?"l":"L"):e.segments.push([t,...r.splice(0,j[n])]),!!j[n]););},he=e=>{const{index:t,pathValue:n}=e,r=n.charCodeAt(t);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err=`${L}: invalid Arc flag "${n[t]}", expecting 0 or 1 at index ${t}`},Y=e=>e>=48&&e<=57,H="Invalid path value",fe=e=>{const{max:t,pathValue:n,index:r}=e;let s=r,i=!1,o=!1,c=!1,l=!1,a;if(s>=t){e.err=`${L}: ${H} at index ${s}, "pathValue" is missing param`;return}if(a=n.charCodeAt(s),(a===43||a===45)&&(s+=1,a=n.charCodeAt(s)),!Y(a)&&a!==46){e.err=`${L}: ${H} at index ${s}, "${n[s]}" is not a number`;return}if(a!==46){if(i=a===48,s+=1,a=n.charCodeAt(s),i&&s<t&&a&&Y(a)){e.err=`${L}: ${H} at index ${r}, "${n[r]}" illegal number`;return}for(;s<t&&Y(n.charCodeAt(s));)s+=1,o=!0;a=n.charCodeAt(s)}if(a===46){for(l=!0,s+=1;Y(n.charCodeAt(s));)s+=1,c=!0;a=n.charCodeAt(s)}if(a===101||a===69){if(l&&!o&&!c){e.err=`${L}: ${H} at index ${s}, "${n[s]}" invalid float exponent`;return}if(s+=1,a=n.charCodeAt(s),(a===43||a===45)&&(s+=1),s<t&&Y(n.charCodeAt(s)))for(;s<t&&Y(n.charCodeAt(s));)s+=1;else{e.err=`${L}: ${H} at index ${s}, "${n[s]}" invalid integer exponent`;return}}e.index=s,e.param=+e.pathValue.slice(r,s)},ye=e=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(e),nt=e=>{const{pathValue:t,max:n}=e;for(;e.index<n&&ye(t.charCodeAt(e.index));)e.index+=1},ge=e=>{switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},xe=e=>Y(e)||e===43||e===45||e===46,pe=e=>(e|32)===97,de=e=>{switch(e|32){case 109:case 77:return!0;default:return!1}},$t=e=>{var l;const{max:t,pathValue:n,index:r,segments:s}=e,i=n.charCodeAt(r),o=j[n[r].toLowerCase()];if(e.segmentStart=r,!ge(i)){e.err=`${L}: ${H} "${n[r]}" is not a path command at index ${r}`;return}const c=s[s.length-1];if(!de(i)&&((l=c==null?void 0:c[0])==null?void 0:l.toLocaleLowerCase())==="z"){e.err=`${L}: ${H} "${n[r]}" is not a MoveTo path command at index ${r}`;return}if(e.index+=1,nt(e),e.data=[],!o){St(e);return}for(;;){for(let a=o;a>0;a-=1){if(pe(i)&&(a===3||a===4)?he(e):fe(e),e.err.length)return;e.data.push(e.param),nt(e),e.index<t&&n.charCodeAt(e.index)===44&&(e.index+=1,nt(e))}if(e.index>=e.max||!xe(n.charCodeAt(e.index)))break}St(e)};class kt{constructor(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const I=e=>{if(typeof e!="string")return e.slice(0);const t=new kt(e);for(nt(t);t.index<t.max&&!t.err.length;)$t(t);if(t!=null&&t.err.length)throw TypeError(t.err);return t.segments},Me=e=>{const t=e.length;let n=-1,r,s=e[t-1],i=0;for(;++n<t;)r=s,s=e[n],i+=r[1]*s[0]-r[0]*s[1];return i/2},Mt=(e,t)=>Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),be=e=>e.reduce((t,n,r)=>r?t+Mt(e[r-1],n):0,0);var we=Object.defineProperty,Ne=(e,t,n)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t,n)=>Ne(e,typeof t!="symbol"?t+"":t,n);const Ae={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},qt=e=>(e instanceof Float64Array||e instanceof Float32Array||Array.isArray(e)&&e.every(t=>typeof t=="number"))&&[6,16].some(t=>e.length===t),It=e=>e instanceof DOMMatrix||e instanceof v||typeof e=="object"&&Object.keys(Ae).every(t=>e&&t in e),st=e=>{const t=new v,n=Array.from(e);if(!qt(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);if(n.length===16){const[r,s,i,o,c,l,a,m,u,g,f,h,y,x,p,d]=n;t.m11=r,t.a=r,t.m21=c,t.c=c,t.m31=u,t.m41=y,t.e=y,t.m12=s,t.b=s,t.m22=l,t.d=l,t.m32=g,t.m42=x,t.f=x,t.m13=i,t.m23=a,t.m33=f,t.m43=p,t.m14=o,t.m24=m,t.m34=h,t.m44=d}else if(n.length===6){const[r,s,i,o,c,l]=n;t.m11=r,t.a=r,t.m12=s,t.b=s,t.m21=i,t.c=i,t.m22=o,t.d=o,t.m41=c,t.e=c,t.m42=l,t.f=l}return t},Et=e=>{if(It(e))return st([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},zt=e=>{if(typeof e!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a string.`);const t=String(e).replace(/\s/g,"");let n=new v;const r=`CSSMatrix: invalid transform string "${e}"`;return t.split(")").filter(s=>s).forEach(s=>{const[i,o]=s.split("(");if(!o)throw TypeError(r);const c=o.split(",").map(h=>h.includes("rad")?parseFloat(h)*(180/Math.PI):parseFloat(h)),[l,a,m,u]=c,g=[l,a,m],f=[l,a,m,u];if(i==="perspective"&&l&&[a,m].every(h=>h===void 0))n.m34=-1/l;else if(i.includes("matrix")&&[6,16].includes(c.length)&&c.every(h=>!Number.isNaN(+h))){const h=c.map(y=>Math.abs(y)<1e-6?0:y);n=n.multiply(st(h))}else if(i==="translate3d"&&g.every(h=>!Number.isNaN(+h)))n=n.translate(l,a,m);else if(i==="translate"&&l&&m===void 0)n=n.translate(l,a||0,0);else if(i==="rotate3d"&&f.every(h=>!Number.isNaN(+h))&&u)n=n.rotateAxisAngle(l,a,m,u);else if(i==="rotate"&&l&&[a,m].every(h=>h===void 0))n=n.rotate(0,0,l);else if(i==="scale3d"&&g.every(h=>!Number.isNaN(+h))&&g.some(h=>h!==1))n=n.scale(l,a,m);else if(i==="scale"&&!Number.isNaN(l)&&l!==1&&m===void 0){const h=Number.isNaN(+a)?l:a;n=n.scale(l,h,1)}else if(i==="skew"&&(l||!Number.isNaN(l)&&a)&&m===void 0)n=n.skew(l,a||0);else if(["translate","rotate","scale","skew"].some(h=>i.includes(h))&&/[XYZ]/.test(i)&&l&&[a,m].every(h=>h===void 0))if(i==="skewX"||i==="skewY")n=n[i](l);else{const h=i.replace(/[XYZ]/,""),y=i.replace(h,""),x=["X","Y","Z"].indexOf(y),p=h==="scale"?1:0,d=[x===0?l:p,x===1?l:p,x===2?l:p];n=n[h](...d)}else throw TypeError(r)}),n},bt=(e,t)=>t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44],Zt=(e,t,n)=>{const r=new v;return r.m41=e,r.e=e,r.m42=t,r.f=t,r.m43=n,r},Ot=(e,t,n)=>{const r=new v,s=Math.PI/180,i=e*s,o=t*s,c=n*s,l=Math.cos(i),a=-Math.sin(i),m=Math.cos(o),u=-Math.sin(o),g=Math.cos(c),f=-Math.sin(c),h=m*g,y=-m*f;r.m11=h,r.a=h,r.m12=y,r.b=y,r.m13=u;const x=a*u*g+l*f;r.m21=x,r.c=x;const p=l*g-a*u*f;return r.m22=p,r.d=p,r.m23=-a*m,r.m31=a*f-l*u*g,r.m32=a*g+l*u*f,r.m33=l*m,r},jt=(e,t,n,r)=>{const s=new v,i=Math.sqrt(e*e+t*t+n*n);if(i===0)return s;const o=e/i,c=t/i,l=n/i,a=r*(Math.PI/360),m=Math.sin(a),u=Math.cos(a),g=m*m,f=o*o,h=c*c,y=l*l,x=1-2*(h+y)*g;s.m11=x,s.a=x;const p=2*(o*c*g+l*m*u);s.m12=p,s.b=p,s.m13=2*(o*l*g-c*m*u);const d=2*(c*o*g-l*m*u);s.m21=d,s.c=d;const C=1-2*(y+f)*g;return s.m22=C,s.d=C,s.m23=2*(c*l*g+o*m*u),s.m31=2*(l*o*g+c*m*u),s.m32=2*(l*c*g-o*m*u),s.m33=1-2*(f+h)*g,s},Rt=(e,t,n)=>{const r=new v;return r.m11=e,r.a=e,r.m22=t,r.d=t,r.m33=n,r},ot=(e,t)=>{const n=new v;if(e){const r=e*Math.PI/180,s=Math.tan(r);n.m21=s,n.c=s}if(t){const r=t*Math.PI/180,s=Math.tan(r);n.m12=s,n.b=s}return n},Dt=e=>ot(e,0),Qt=e=>ot(0,e),D=(e,t)=>{const n=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,r=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,s=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,i=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,o=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,c=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,l=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,a=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,m=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,u=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,g=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,f=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,h=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,y=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,x=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,p=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return st([n,r,s,i,o,c,l,a,m,u,g,f,h,y,x,p])};class v{constructor(t){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,t?this.setMatrixValue(t):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(t){return typeof t=="string"&&t.length&&t!=="none"?zt(t):Array.isArray(t)||t instanceof Float64Array||t instanceof Float32Array?st(t):typeof t=="object"?Et(t):this}toFloat32Array(t){return Float32Array.from(bt(this,t))}toFloat64Array(t){return Float64Array.from(bt(this,t))}toString(){const{is2D:t}=this,n=this.toFloat64Array(t).join(", ");return`${t?"matrix":"matrix3d"}(${n})`}toJSON(){const{is2D:t,isIdentity:n}=this;return{...this,is2D:t,isIdentity:n}}multiply(t){return D(this,t)}translate(t,n,r){const s=t;let i=n,o=r;return typeof i>"u"&&(i=0),typeof o>"u"&&(o=0),D(this,Zt(s,i,o))}scale(t,n,r){const s=t;let i=n,o=r;return typeof i>"u"&&(i=t),typeof o>"u"&&(o=1),D(this,Rt(s,i,o))}rotate(t,n,r){let s=t,i=n||0,o=r||0;return typeof t=="number"&&typeof n>"u"&&typeof r>"u"&&(o=s,s=0,i=0),D(this,Ot(s,i,o))}rotateAxisAngle(t,n,r,s){if([t,n,r,s].some(i=>Number.isNaN(+i)))throw new TypeError("CSSMatrix: expecting 4 values");return D(this,jt(t,n,r,s))}skewX(t){return D(this,Dt(t))}skewY(t){return D(this,Qt(t))}skew(t,n){return D(this,ot(t,n))}transformPoint(t){const n=this.m11*t.x+this.m21*t.y+this.m31*t.z+this.m41*t.w,r=this.m12*t.x+this.m22*t.y+this.m32*t.z+this.m42*t.w,s=this.m13*t.x+this.m23*t.y+this.m33*t.z+this.m43*t.w,i=this.m14*t.x+this.m24*t.y+this.m34*t.z+this.m44*t.w;return t instanceof DOMPoint?new DOMPoint(n,r,s,i):{x:n,y:r,z:s,w:i}}}k(v,"Translate",Zt),k(v,"Rotate",Ot),k(v,"RotateAxisAngle",jt),k(v,"Scale",Rt),k(v,"SkewX",Dt),k(v,"SkewY",Qt),k(v,"Skew",ot),k(v,"Multiply",D),k(v,"fromArray",st),k(v,"fromMatrix",Et),k(v,"fromString",zt),k(v,"toArray",bt),k(v,"isCompatibleArray",qt),k(v,"isCompatibleObject",It);const ct={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Q=(e,t)=>{const n={...ct};let r=e.length,s;for(let i=0;i<r;i+=1){s=e[i];const o=t(s,n,i);e[i]=o,o[0]==="C"&&(r=e.length),s=e[i];const c=s.length;n.x1=+s[c-2],n.y1=+s[c-1],n.x2=+s[c-4]||n.x1,n.y2=+s[c-3]||n.y1}return e},F=(e,t)=>{const[n]=e,{x:r,y:s}=t,i=e.slice(1).map(Number),o=n.toUpperCase();if(!(o===n)){if(o==="A")return[o,i[0],i[1],i[2],i[3],i[4],i[5]+r,i[6]+s];if(o==="V")return[o,i[0]+s];if(o==="H")return[o,i[0]+r];{const l=i.map((a,m)=>a+(m%2?s:r));return[o,...l]}}return e},K=(e,t)=>{const[n]=e,{x1:r,y1:s,x2:i,y2:o}=t,c=e.slice(1).map(Number);if("TQ".includes(n)||(t.qx=null,t.qy=null),n==="H")return["L",e[1],s];if(n==="V")return["L",r,e[1]];if(n==="S"){const l=r*2-i,a=s*2-o;return t.x1=l,t.y1=a,["C",l,a,...c]}else if(n==="T"){const l=r*2-(t.qx?t.qx:0),a=s*2-(t.qy?t.qy:0);return t.qx=l,t.qy=a,["Q",l,a,...c]}else if(n==="Q"){const[l,a]=c;t.qx=l,t.qy=a}return e},X=(e,t,n)=>{const[r,s]=e,[i,o]=t;return[r+(i-r)*n,s+(o-s)*n]},lt=(e,t,n,r)=>Mt([e,t],[n,r]),Xt=(e,t,n,r,s)=>{const i=Mt([e,t],[n,r]);let o={x:e,y:t};if(typeof s=="number")if(s<=0)o={x:e,y:t};else if(s>=i)o={x:n,y:r};else{const[c,l]=X([e,t],[n,r],s/i);o={x:c,y:l}}return o},Bt=(e,t,n,r)=>{const{min:s,max:i}=Math;return{min:{x:s(e,n),y:s(t,r)},max:{x:i(e,n),y:i(t,r)}}},Yt=(e,t,n)=>{const r=n/2,s=Math.sin(r),i=Math.cos(r),o=e**2*s**2,c=t**2*i**2,l=Math.sqrt(o+c)*n;return Math.abs(l)},W=(e,t,n,r,s,i)=>{const o=Math.cos(i),c=Math.sin(i),l=r*Math.cos(e),a=s*Math.sin(e);return{x:t+o*l-c*a,y:n+c*l+o*a}},Ht=(e,t)=>{const{x:n,y:r}=e,{x:s,y:i}=t,o=n*s+r*i,c=Math.sqrt((n**2+r**2)*(s**2+i**2));return(n*i-r*s<0?-1:1)*Math.acos(o/c)},wt=(e,t,n,r,s,i,o,c,l)=>{const{abs:a,sin:m,cos:u,sqrt:g,PI:f}=Math;let h=a(n),y=a(r);const p=(s%360+360)%360*(f/180);if(e===c&&t===l)return{rx:h,ry:y,startAngle:0,endAngle:0,center:{x:c,y:l}};if(h===0||y===0)return{rx:h,ry:y,startAngle:0,endAngle:0,center:{x:c,y:l}};const d=(e-c)/2,C=(t-l)/2,M={x:u(p)*d+m(p)*C,y:-m(p)*d+u(p)*C},b=M.x**2/h**2+M.y**2/y**2;b>1&&(h*=g(b),y*=g(b));const N=h**2*y**2-h**2*M.y**2-y**2*M.x**2,S=h**2*M.y**2+y**2*M.x**2;let P=N/S;P=P<0?0:P;const q=(i!==o?1:-1)*g(P),$={x:q*(h*M.y/y),y:q*(-(y*M.x)/h)},tt={x:u(p)*$.x-m(p)*$.y+(e+c)/2,y:m(p)*$.x+u(p)*$.y+(t+l)/2},U={x:(M.x-$.x)/h,y:(M.y-$.y)/y},B=Ht({x:1,y:0},U),V={x:(-M.x-$.x)/h,y:(-M.y-$.y)/y};let E=Ht(U,V);!o&&E>0?E-=2*f:o&&E<0&&(E+=2*f),E%=2*f;const et=B+E;return{center:tt,startAngle:B,endAngle:et,rx:h,ry:y}},Ft=(e,t,n,r,s,i,o,c,l)=>{const{rx:a,ry:m,startAngle:u,endAngle:g}=wt(e,t,n,r,s,i,o,c,l);return Yt(a,m,g-u)},Ce=(e,t,n,r,s,i,o,c,l,a)=>{let m={x:e,y:t};const{center:u,rx:g,ry:f,startAngle:h,endAngle:y}=wt(e,t,n,r,s,i,o,c,l),x=Yt(g,f,y-h);if(typeof a=="number")if(a<=0)m={x:e,y:t};else if(a>=x)m={x:c,y:l};else{if(e===c&&t===l)return{x:c,y:l};if(g===0||f===0)return Xt(e,t,c,l,a);const{PI:p,cos:d,sin:C}=Math,M=y-h,N=(s%360+360)%360*(p/180),S=h+M*(a/x),P=g*d(S),q=f*C(S);m={x:d(N)*P-C(N)*q+u.x,y:C(N)*P+d(N)*q+u.y}}return m},ve=(e,t,n,r,s,i,o,c,l)=>{const{center:a,rx:m,ry:u,startAngle:g,endAngle:f}=wt(e,t,n,r,s,i,o,c,l),h=f-g,y={x:c,y:l},[x,p]=[a.x,a.y],d=[y],C=s*Math.PI/180,M=Math.tan(C),b=Math.atan2(-u*M,m),N=b,S=b+Math.PI,P=Math.atan2(u,m*M),q=P+Math.PI,$=[e,c],tt=[t,l],U=Math.min(...$),B=Math.max(...$),V=Math.min(...tt),E=Math.max(...tt),et=f-h*.001,Z=W(et,x,p,m,u,C),dt=f-h*.999,_=W(dt,x,p,m,u,C);return(Z.x>B||_.x>B)&&d.push(W(N,x,p,m,u,C)),(Z.x<U||_.x<U)&&d.push(W(S,x,p,m,u,C)),(Z.y<V||_.y<V)&&d.push(W(q,x,p,m,u,C)),(Z.y>E||_.y>E)&&d.push(W(P,x,p,m,u,C)),{min:{x:Math.min(...d.map(R=>R.x)),y:Math.min(...d.map(R=>R.y))},max:{x:Math.max(...d.map(R=>R.x)),y:Math.max(...d.map(R=>R.y))}}},Pe={x:0,y:0},Ut=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Le=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],Te=e=>{const t=[];for(let n=e,r=n.length,s=r-1;r>1;r-=1,s-=1){const i=[];for(let o=0;o<s;o+=1)i.push({x:s*(n[o+1].x-n[o].x),y:s*(n[o+1].y-n[o].y),t:0});t.push(i),n=i}return t},Se=(e,t)=>{if(t===0)return e[0].t=0,e[0];const n=e.length-1;if(t===1)return e[n].t=1,e[n];const r=1-t;let s=e;if(n===0)return e[0].t=t,e[0];if(n===1)return{x:r*s[0].x+t*s[1].x,y:r*s[0].y+t*s[1].y,t};const i=r*r,o=t*t;let c=0,l=0,a=0,m=0;return n===2?(s=[s[0],s[1],s[2],Pe],c=i,l=r*t*2,a=o):n===3&&(c=i*r,l=i*t*3,a=r*o*3,m=t*o),{x:c*s[0].x+l*s[1].x+a*s[2].x+m*s[3].x,y:c*s[0].y+l*s[1].y+a*s[2].y+m*s[3].y,t}},$e=(e,t)=>{const n=e(t),r=n.x*n.x+n.y*n.y;return Math.sqrt(r)},ke=e=>{const n=Ut.length;let r=0;for(let s=0,i;s<n;s++)i=.5*Ut[s]+.5,r+=Le[s]*$e(e,i);return .5*r},at=e=>{const t=[];for(let r=0,s=e.length,i=2;r<s;r+=i)t.push({x:e[r],y:e[r+1]});const n=Te(t);return ke(r=>Se(n[0],r))},qe=1e-8,Nt=e=>{const t=Math.min(e[0],e[2]),n=Math.max(e[0],e[2]);if(e[1]>=e[0]?e[2]>=e[1]:e[2]<=e[1])return[t,n];const r=(e[0]*e[2]-e[1]*e[1])/(e[0]-2*e[1]+e[2]);return r<t?[r,n]:[t,r]},Vt=e=>{const t=e[0]-3*e[1]+3*e[2]-e[3];if(Math.abs(t)<qe)return e[0]===e[3]&&e[0]===e[1]?[e[0],e[3]]:Nt([e[0],-.5*e[0]+1.5*e[1],e[0]-3*e[1]+3*e[2]]);const n=-e[0]*e[2]+e[0]*e[3]-e[1]*e[2]-e[1]*e[3]+e[1]*e[1]+e[2]*e[2];if(n<=0)return[Math.min(e[0],e[3]),Math.max(e[0],e[3])];const r=Math.sqrt(n);let s=Math.min(e[0],e[3]),i=Math.max(e[0],e[3]);const o=e[0]-2*e[1]+e[2];for(let c=(o+r)/t,l=1;l<=2;c=(o-r)/t,l++)if(c>0&&c<1){const a=e[0]*(1-c)*(1-c)*(1-c)+e[1]*3*(1-c)*(1-c)*c+e[2]*3*(1-c)*c*c+e[3]*c*c*c;a<s&&(s=a),a>i&&(i=a)}return[s,i]},Ie=([e,t,n,r,s,i,o,c],l)=>{const a=1-l;return{x:a**3*e+3*a**2*l*n+3*a*l**2*s+l**3*o,y:a**3*t+3*a**2*l*r+3*a*l**2*i+l**3*c}},_t=(e,t,n,r,s,i,o,c)=>at([e,t,n,r,s,i,o,c]),Ee=(e,t,n,r,s,i,o,c,l)=>{const a=typeof l=="number";let m={x:e,y:t};if(a){const u=at([e,t,n,r,s,i,o,c]);l<=0||(l>=u?m={x:o,y:c}:m=Ie([e,t,n,r,s,i,o,c],l/u))}return m},ze=(e,t,n,r,s,i,o,c)=>{const l=Vt([e,n,s,o]),a=Vt([t,r,i,c]);return{min:{x:l[0],y:a[0]},max:{x:l[1],y:a[1]}}},Ze=([e,t,n,r,s,i],o)=>{const c=1-o;return{x:c**2*e+2*c*o*n+o**2*s,y:c**2*t+2*c*o*r+o**2*i}},Jt=(e,t,n,r,s,i)=>at([e,t,n,r,s,i]),Oe=(e,t,n,r,s,i,o)=>{const c=typeof o=="number";let l={x:e,y:t};if(c){const a=at([e,t,n,r,s,i]);o<=0||(o>=a?l={x:s,y:i}:l=Ze([e,t,n,r,s,i],o/a))}return l},je=(e,t,n,r,s,i)=>{const o=Nt([e,n,s]),c=Nt([t,r,i]);return{min:{x:o[0],y:c[0]},max:{x:o[1],y:c[1]}}},Kt=e=>{if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const t=I(e);let n=[],r="M",s=0,i=0,o=0,c=0;const l=[],a=[];let m={x:s,y:i},u={x:s,y:i};Q(t,(d,C)=>{const M=F(d,C),b=K(M,C);return[r]=b,n=[s,i,...b.slice(1)],r==="M"?([,o,c]=b,m={x:o,y:c},u={x:o,y:c}):r==="L"?{min:m,max:u}=Bt(...n):r==="A"?{min:m,max:u}=ve(...n):r==="C"?{min:m,max:u}=ze(...n):r==="Q"?{min:m,max:u}=je(...n):r==="Z"&&(n=[s,i,o,c],{min:m,max:u}=Bt(...n)),l.push(m),a.push(u),r==="Z"?(s=o,i=c):([s,i]=b.slice(-2),r==="M"&&(o=s,c=i)),C.x=s,C.y=i,b});const g=Math.min(...l.map(d=>d.x)),f=Math.max(...a.map(d=>d.x)),h=Math.min(...l.map(d=>d.y)),y=Math.max(...a.map(d=>d.y)),x=f-g,p=y-h;return{width:x,height:p,x:g,y:h,x2:f,y2:y,cx:g+x/2,cy:h+p/2,cz:Math.max(x,p)+Math.min(x,p)/2}},mt=(e,t,n)=>{const r=e*Math.cos(n)-t*Math.sin(n),s=e*Math.sin(n)+t*Math.cos(n);return{x:r,y:s}},Wt=(e,t,n,r,s,i,o,c,l,a)=>{let m=e,u=t,g=n,f=r,h=c,y=l;const x=Math.PI*120/180,p=Math.PI/180*(+s||0);let d=[],C,M,b,N,S;if(a)[M,b,N,S]=a;else{C=mt(m,u,-p),m=C.x,u=C.y,C=mt(h,y,-p),h=C.x,y=C.y;const T=(m-h)/2,O=(u-y)/2;let J=T*T/(g*g)+O*O/(f*f);J>1&&(J=Math.sqrt(J),g*=J,f*=J);const Lt=g*g,Tt=f*f,ue=(i===o?-1:1)*Math.sqrt(Math.abs((Lt*Tt-Lt*O*O-Tt*T*T)/(Lt*O*O+Tt*T*T)));N=ue*g*O/f+(m+h)/2,S=ue*-f*T/g+(u+y)/2,M=Math.asin(((u-S)/f*10**9>>0)/10**9),b=Math.asin(((y-S)/f*10**9>>0)/10**9),M=m<N?Math.PI-M:M,b=h<N?Math.PI-b:b,M<0&&(M=Math.PI*2+M),b<0&&(b=Math.PI*2+b),o&&M>b&&(M-=Math.PI*2),!o&&b>M&&(b-=Math.PI*2)}let P=b-M;if(Math.abs(P)>x){const T=b,O=h,J=y;b=M+x*(o&&b>M?1:-1),h=N+g*Math.cos(b),y=S+f*Math.sin(b),d=Wt(h,y,g,f,s,0,o,O,J,[b,T,N,S])}P=b-M;const q=Math.cos(M),$=Math.sin(M),tt=Math.cos(b),U=Math.sin(b),B=Math.tan(P/4),V=4/3*g*B,E=4/3*f*B,et=[m,u],Z=[m+V*$,u-E*q],dt=[h+V*U,y-E*tt],_=[h,y];if(Z[0]=2*et[0]-Z[0],Z[1]=2*et[1]-Z[1],a)return[...Z,...dt,..._,...d];d=[...Z,...dt,..._,...d];const R=[];for(let T=0,O=d.length;T<O;T+=1)R[T]=T%2?mt(d[T-1],d[T],p).y:mt(d[T],d[T+1],p).x;return R},Re=(e,t,n,r,s,i)=>{const o=.3333333333333333,c=2/3;return[o*e+c*n,o*t+c*r,o*s+c*n,o*i+c*r,s,i]},Gt=(e,t,n,r)=>{const s=X([e,t],[n,r],.3333333333333333),i=X([e,t],[n,r],2/3);return[...s,...i,n,r]},te=(e,t)=>{const[n]=e,r=e.slice(1).map(Number),[s,i]=r;let o;const{x1:c,y1:l,x:a,y:m}=t;return"TQ".includes(n)||(t.qx=null,t.qy=null),n==="M"?(t.x=s,t.y=i,e):n==="A"?(o=[c,l,...r],["C",...Wt(...o)]):n==="Q"?(t.qx=s,t.qy=i,o=[c,l,...r],["C",...Re(...o)]):n==="L"?["C",...Gt(c,l,s,i)]:n==="Z"?["C",...Gt(c,l,a,m)]:e},ut=e=>{let t=0,n=0,r=0,s=0,i="M";const o=I(e);return Q(o,(c,l,a)=>{const m=F(c,l);[i]=m;const u=i.toUpperCase(),g=K(m,l);let f=te(g,l);return f[0]==="C"&&f.length>7&&(o.splice(a+1,0,["C",...f.slice(7)]),f=f.slice(0,7)),u==="Z"?(t=r,n=s):([t,n]=f.slice(-2),u==="M"&&(r=t,s=n)),l.x=t,l.y=n,f})},De=(e,t,n,r,s,i,o,c)=>3*((c-t)*(n+s)-(o-e)*(r+i)+r*(e-s)-n*(t-i)+c*(s+e/3)-o*(i+t/3))/20,ee=e=>{let t=0,n=0,r=0;return ut(e).map(s=>{switch(s[0]){case"M":return[,t,n]=s,0;default:return r=De(t,n,...s.slice(1)),[t,n]=s.slice(-2),r}}).reduce((s,i)=>s+i,0)},G=e=>{const t=I(e);let n=!1,r=[],s="M",i=0,o=0,c=0,l=0,a=0;return Q(t,(m,u)=>{const g=F(m,u),f=K(g,u);return[s]=f,n=s==="M",r=n?r:[i,o,...f.slice(1)],n?[,c,l]=m:s==="L"?a+=lt(...r):s==="A"?a+=Ft(...r):s==="C"?a+=_t(...r):s==="Q"?a+=Jt(...r):s==="Z"&&(r=[i,o,c,l],a+=lt(...r)),s==="Z"?(i=c,o=l):([i,o]=f.slice(-2),n&&(c=i,l=o)),u.x=i,u.y=o,f}),a},Qe=e=>ee(ut(e))>=0,At=1e-5,rt=(e,t)=>{const n=I(e);let r=!1,s=[],i="M",o=0,c=0,[l,a]=n[0].slice(1);const m=typeof t=="number";let u={x:l,y:a},g=0,f=u,h=0;return m?(t<At&&(f=u),Q(n,(y,x)=>{const p=F(y,x),d=K(p,x);return[i]=d,r=i==="M",s=r?s:[o,c,...d.slice(1)],r?([,l,a]=y,u={x:l,y:a},g=0):i==="L"?(u=Xt(...s,t-h),g=lt(...s)):i==="A"?(u=Ce(...s,t-h),g=Ft(...s)):i==="C"?(u=Ee(...s,t-h),g=_t(...s)):i==="Q"?(u=Oe(...s,t-h),g=Jt(...s)):i==="Z"&&(s=[o,c,l,a],u={x:l,y:a},g=lt(...s)),h<t&&h+g>=t&&(f=u),h+=g,i==="Z"?(o=l,c=a):([o,c]=d.slice(-2),i==="M"&&(l=o,a=c)),x.x=o,x.y=c,d}),t>h-At&&(f={x:o,y:c}),f):u},Ct=(e,t)=>{const n=I(e);let r=n.slice(0),s=G(r),i=r.length-1,o=0,c=0,l=n[0];const[a,m]=l.slice(-2),u={x:a,y:m};if(i<=0||!t||!Number.isFinite(t))return{segment:l,index:0,length:c,point:u,lengthAtSegment:o};if(t>=s)return r=n.slice(0,-1),o=G(r),c=s-o,{segment:n[i],index:i,length:c,lengthAtSegment:o};const g=[];for(;i>0;)l=r[i],r=r.slice(0,-1),o=G(r),c=s-o,s=o,g.push({segment:l,index:i,length:c,lengthAtSegment:o}),i-=1;return g.find(({lengthAtSegment:f})=>f<=t)},it=e=>{let t=0,n=0,r=0,s=0,i="M";return Q(I(e),(o,c)=>{const l=F(o,c),a=K(l,c);[i]=a;const m=i.toUpperCase();return m==="Z"?(t=r,n=s):([t,n]=a.slice(-2),m==="M"&&(r=t,s=n)),c.x=t,c.y=n,a})},ht=(e,t)=>{const n=I(e),r=it(n),s=G(n),i=M=>{const b=M.x-t.x,N=M.y-t.y;return b*b+N*N};let o=8,c,l={x:0,y:0},a=0,m=0,u=1/0;for(let M=0;M<=s;M+=o)c=rt(r,M),a=i(c),a<u&&(l=c,m=M,u=a);o/=2;let g,f,h=0,y=0,x=0,p=0;for(;o>1e-6&&(h=m-o,g=rt(r,h),x=i(g),y=m+o,f=rt(r,y),p=i(f),h>=0&&x<u?(l=g,m=h,u=x):y<=s&&p<u?(l=f,m=y,u=p):o/=2,!(o<1e-5)););const d=Ct(n,m),C=Math.sqrt(u);return{closest:l,distance:C,segment:d}},Xe=(e,t)=>ht(e,t).closest,Be=(e,t)=>ht(e,t).segment,Ye=(e,t)=>Ct(e,t).segment,He=(e,t)=>{const{distance:n}=ht(e,t);return Math.abs(n)<At},ne=e=>{if(typeof e!="string"||!e.length)return!1;const t=new kt(e);for(nt(t);t.index<t.max&&!t.err.length;)$t(t);return!t.err.length&&"mM".includes(t.segments[0][0])},ft=e=>Array.isArray(e)&&e.every(t=>{const n=t[0].toLowerCase();return j[n]===t.length-1&&"achlmqstvz".includes(n)&&t.slice(1).every(Number.isFinite)})&&e.length>0,se=e=>ft(e)&&e.every(([t])=>t===t.toUpperCase()),Fe=e=>ft(e)&&e.slice(1).every(([t])=>t===t.toLowerCase()),re=e=>se(e)&&e.every(([t])=>"ACLMQZ".includes(t)),Ue=e=>re(e)&&e.every(([t])=>"MC".includes(t)),yt={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},Ve=e=>{let{x1:t,y1:n,x2:r,y2:s}=e;return[t,n,r,s]=[t,n,r,s].map(i=>+i),[["M",t,n],["L",r,s]]},_e=e=>{const t=[],n=(e.points||"").trim().split(/[\s|,]/).map(s=>+s);let r=0;for(;r<n.length;)t.push([r?"L":"M",n[r],n[r+1]]),r+=2;return e.type==="polygon"?[...t,["z"]]:t},Je=e=>{let{cx:t,cy:n,r}=e;return[t,n,r]=[t,n,r].map(s=>+s),[["M",t-r,n],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,-2*r,0]]},Ke=e=>{let{cx:t,cy:n}=e,r=e.rx||0,s=e.ry||r;return[t,n,r,s]=[t,n,r,s].map(i=>+i),[["M",t-r,n],["a",r,s,0,1,0,2*r,0],["a",r,s,0,1,0,-2*r,0]]},We=e=>{const t=+e.x||0,n=+e.y||0,r=+e.width,s=+e.height;let i=+(e.rx||0),o=+(e.ry||i);return i||o?(i*2>r&&(i-=(i*2-r)/2),o*2>s&&(o-=(o*2-s)/2),[["M",t+i,n],["h",r-i*2],["s",i,0,i,o],["v",s-o*2],["s",0,o,-i,o],["h",-r+i*2],["s",-i,0,-i,-o],["v",-s+o*2],["s",0,-o,i,-o]]):[["M",t,n],["h",r],["v",s],["H",t],["Z"]]},ie=(e,t)=>{const r=(t||document).defaultView||window,s=Object.keys(yt),i=e instanceof r.SVGElement,o=i?e.tagName:null;if(o&&[...s,"path"].every(u=>o!==u))throw TypeError(`${L}: "${o}" is not SVGElement`);const c=i?o:e.type,l=yt[c],a={type:c};i?l.forEach(u=>{a[u]=e.getAttribute(u)}):Object.assign(a,e);let m=[];return c==="circle"?m=Je(a):c==="ellipse"?m=Ke(a):["polyline","polygon"].includes(c)?m=_e(a):c==="rect"?m=We(a):c==="line"?m=Ve(a):["glyph","path"].includes(c)&&(m=I(i?e.getAttribute("d")||"":e.d||"")),ft(m)&&m.length?m:!1},gt=(e,t)=>{let{round:n}=z;if(t==="off"||n==="off")return e.slice(0);n=typeof t=="number"&&t>=0?t:n;const r=typeof n=="number"&&n>=1?10**n:1;return Q(e,s=>{const i=s.slice(1).map(o=>n?Math.round(o*r)/r:Math.round(o));return[s[0],...i]})},vt=(e,t)=>gt(e,t).map(n=>n[0]+n.slice(1).join(" ")).join(""),Ge=(e,t,n)=>{const r=n||document,s=r.defaultView||window,i=Object.keys(yt),o=e instanceof s.SVGElement,c=o?e.tagName:null;if(c==="path")throw TypeError(`${L}: "${c}" is already SVGPathElement`);if(c&&i.every(y=>c!==y))throw TypeError(`${L}: "${c}" is not SVGElement`);const l=r.createElementNS("http://www.w3.org/2000/svg","path"),a=o?c:e.type,m=yt[a],u={type:a},g=z.round,f=ie(e,r),h=f&&f.length?vt(f,g):"";return o?(m.forEach(y=>{u[y]=e.getAttribute(y)}),Object.values(e.attributes).forEach(({name:y,value:x})=>{m.includes(y)||l.setAttribute(y,x)})):(Object.assign(u,e),Object.keys(u).forEach(y=>{!m.includes(y)&&y!=="type"&&l.setAttribute(y.replace(/[A-Z]/g,x=>`-${x.toLowerCase()}`),u[y])})),ne(h)?(l.setAttribute("d",h),t&&o&&(e.before(l,e),e.remove()),l):!1},oe=e=>{const t=[];let n,r=-1,s=0,i=0,o=0,c=0;const l={...ct};return e.forEach(a=>{const[m]=a,u=m.toUpperCase(),g=m.toLowerCase(),f=m===g,h=a.slice(1);u==="M"?(r+=1,[s,i]=h,s+=f?l.x:0,i+=f?l.y:0,o=s,c=i,n=[f?[u,o,c]:a]):(u==="Z"?(s=o,i=c):u==="H"?([,s]=a,s+=f?l.x:0):u==="V"?([,i]=a,i+=f?l.y:0):([s,i]=a.slice(-2),s+=f?l.x:0,i+=f?l.y:0),n.push(a)),l.x=s,l.y=i,t[r]=n}),t},ce=e=>{let t=new v;const{origin:n}=e,[r,s]=n,{translate:i}=e,{rotate:o}=e,{skew:c}=e,{scale:l}=e;return Array.isArray(i)&&i.length>=2&&i.every(a=>!Number.isNaN(+a))&&i.some(a=>a!==0)?t=t.translate(...i):typeof i=="number"&&!Number.isNaN(i)&&(t=t.translate(i)),(o||c||l)&&(t=t.translate(r,s),Array.isArray(o)&&o.length>=2&&o.every(a=>!Number.isNaN(+a))&&o.some(a=>a!==0)?t=t.rotate(...o):typeof o=="number"&&!Number.isNaN(o)&&(t=t.rotate(o)),Array.isArray(c)&&c.length===2&&c.every(a=>!Number.isNaN(+a))&&c.some(a=>a!==0)?(t=c[0]?t.skewX(c[0]):t,t=c[1]?t.skewY(c[1]):t):typeof c=="number"&&!Number.isNaN(c)&&(t=t.skewX(c)),Array.isArray(l)&&l.length>=2&&l.every(a=>!Number.isNaN(+a))&&l.some(a=>a!==1)?t=t.scale(...l):typeof l=="number"&&!Number.isNaN(l)&&(t=t.scale(l)),t=t.translate(-r,-s)),t},xt=e=>{let t=0,n=0,r=0,s=0,i="M";const o=I(e);return Q(o,(c,l)=>{[i]=c;const a=F(c,l),m=i.toUpperCase();return m==="Z"?(t=r,n=s):m==="H"?[,t]=a:m==="V"?[,n]=a:([t,n]=a.slice(-2),m==="M"&&(r=t,s=n)),l.x=t,l.y=n,a})},tn=(e,t,n)=>{const[r]=e,{x:s,y:i}=t,o=e.slice(1).map(Number),c=r.toLowerCase();if(n===0&&r==="M")return e;if(r!==c){if(c==="a")return[c,o[0],o[1],o[2],o[3],o[4],o[5]-s,o[6]-i];if(c==="v")return[c,o[0]-i];if(c==="h")return[c,o[0]-s];{const l=o.map((a,m)=>a-(m%2?i:s));return[c,...l]}}return e},Pt=e=>{let t=0,n=0,r=0,s=0,i="M";const o=I(e);return Q(o,(c,l,a)=>{[i]=c;const m=tn(c,l,a),[u]=m,g=i.toUpperCase(),f=i.toLowerCase(),h=u===f;return g==="Z"?(t=r,n=s):g==="H"?([,t]=m,t+=h?l.x:0):g==="V"?([,n]=m,n+=h?l.y:0):([t,n]=m.slice(-2),t+=h?l.x:0,n+=h?l.y:0,g==="M"&&(r=t,s=n)),l.x=t,l.y=n,m})},en=(e,t,n,r)=>{const[s]=e,i=p=>Math.round(p*10**4)/10**4,o=e.slice(1),c=t.slice(1),{x1:l,y1:a,x2:m,y2:u,x:g,y:f}=n;let h=e;const[y,x]=c.slice(-2);if("TQ".includes(s)||(n.qx=null,n.qy=null),["V","H","S","T","Z"].includes(s))h=[s,...o];else if(s==="L")i(g)===i(y)?h=["V",x]:i(f)===i(x)&&(h=["H",y]);else if(s==="C"){const[p,d]=c;"CS".includes(r)&&(i(p)===i(l*2-m)&&i(d)===i(a*2-u)||i(l)===i(m*2-g)&&i(a)===i(u*2-f))&&(h=["S",...c.slice(-4)]),n.x1=p,n.y1=d}else if(s==="Q"){const[p,d]=c;n.qx=p,n.qy=d,"QT".includes(r)&&(i(p)===i(l*2-m)&&i(d)===i(a*2-u)||i(l)===i(m*2-g)&&i(a)===i(u*2-f))&&(h=["T",...c.slice(-2)])}return h},le=(e,t)=>{const n=xt(e),r=it(n),s={...ct},i=[],o=n.length;let c="",l="",a=0,m=0,u=0,g=0;for(let y=0;y<o;y+=1){[c]=n[y],i[y]=c,y&&(l=i[y-1]),n[y]=en(n[y],r[y],s,l);const x=n[y],p=x.length;switch(s.x1=+x[p-2],s.y1=+x[p-1],s.x2=+x[p-4]||s.x1,s.y2=+x[p-3]||s.y1,c){case"Z":a=u,m=g;break;case"H":[,a]=x;break;case"V":[,m]=x;break;default:[a,m]=x.slice(-2).map(Number),c==="M"&&(u=a,g=m)}s.x=a,s.y=m}const f=gt(n,t),h=gt(Pt(n),t);return f.map((y,x)=>x?y.join("").length<h[x].join("").length?y:h[x]:y)},nn=e=>{const t=e.slice(1).map((n,r,s)=>r?[...s[r-1].slice(-2),...n.slice(1)]:[...e[0].slice(1),...n.slice(1)]).map(n=>n.map((r,s)=>n[n.length-s-2*(1-s%2)])).reverse();return[["M",...t[0].slice(0,2)],...t.map(n=>["C",...n.slice(2)])]},pt=e=>{const t=xt(e),n=t.slice(-1)[0][0]==="Z",r=it(t).map((s,i)=>{const[o,c]=s.slice(-2).map(Number);return{seg:t[i],n:s,c:t[i][0],x:o,y:c}}).map((s,i,o)=>{const c=s.seg,l=s.n,a=i&&o[i-1],m=o[i+1],u=s.c,g=o.length,f=i?o[i-1].x:o[g-1].x,h=i?o[i-1].y:o[g-1].y;let y=[];switch(u){case"M":y=n?["Z"]:[u,f,h];break;case"A":y=[u,...c.slice(1,-3),c[5]===1?0:1,f,h];break;case"C":m&&m.c==="S"?y=["S",c[1],c[2],f,h]:y=[u,c[3],c[4],c[1],c[2],f,h];break;case"S":a&&"CS".includes(a.c)&&(!m||m.c!=="S")?y=["C",l[3],l[4],l[1],l[2],f,h]:y=[u,l[1],l[2],f,h];break;case"Q":m&&m.c==="T"?y=["T",f,h]:y=[u,...c.slice(1,-2),f,h];break;case"T":a&&"QT".includes(a.c)&&(!m||m.c!=="T")?y=["Q",l[1],l[2],f,h]:y=[u,f,h];break;case"Z":y=["M",f,h];break;case"H":y=[u,f];break;case"V":y=[u,h];break;default:y=[u,...c.slice(1,-2),f,h]}return y});return n?r.reverse():[r[0],...r.slice(1).reverse()]},sn=(e,t)=>{let n=v.Translate(...t.slice(0,-1));return[,,,n.m44]=t,n=e.multiply(n),[n.m41,n.m42,n.m43,n.m44]},ae=(e,t,n)=>{const[r,s,i]=n,[o,c,l]=sn(e,[...t,0,1]),a=o-r,m=c-s,u=l-i;return[a*(Math.abs(i)/Math.abs(u)||1)+r,m*(Math.abs(i)/Math.abs(u)||1)+s]},me=(e,t)=>{let n=0,r=0,s=0,i=0,o=0,c=0,l=0,a=0,m=0,u=0,g="M";const f={...ct},h=I(e),y=t&&Object.keys(t);if(!t||y&&!y.length)return h;t.origin||Object.assign(t,{origin:z.origin});const x=t.origin,p=ce(t);return p.isIdentity?h:Q(h,(d,C,M)=>{const b=F(d,f);[g]=b;let N=g==="A"?te(b,f):["V","H"].includes(g)?K(b,f):b;const S=N[0]==="C"&&N.length>7,P=S?N.slice(0,7):N.slice(0);if(S&&(h.splice(M+1,0,["C",...N.slice(7)]),N=N.slice(0,7)),N[0]==="L"){const $=N.slice(-2);[o,c]=ae(p,$,x),n!==o&&r!==c?N=["L",o,c]:r===c?N=["H",o]:n===o&&(N=["V",c])}else for(l=1,a=N.length;l<a;l+=2)[o,c]=ae(p,[+N[l],+N[l+1]],x),N[l]=o,N[l+1]=c;n=o,r=c,g==="Z"?(m=s,u=i):([m,u]=P.slice(-2),g==="M"&&(s=m,i=u));const q=P.length;return f.x1=+P[q-2],f.y1=+P[q-1],f.x2=+P[q-4]||f.x1,f.y2=+P[q-3]||f.y1,f.x=m,f.y=u,N})},rn=(e,t=.5)=>{const n=t,r=e.slice(0,2),s=e.slice(2,4),i=e.slice(4,6),o=e.slice(6,8),c=X(r,s,n),l=X(s,i,n),a=X(i,o,n),m=X(c,l,n),u=X(l,a,n),g=X(m,u,n);return[["C",...c,...m,...g],["C",...u,...a,...o]]};class w{constructor(t,n){const r=n||{},s=typeof t>"u";if(s||!t.length)throw TypeError(`${L}: "pathValue" is ${s?"undefined":"empty"}`);const i=I(t);this.segments=i;const{round:o,origin:c}=r;let l;Number.isInteger(o)||o==="off"?l=o:l=z.round;let a=z.origin;if(Array.isArray(c)&&c.length>=2){const[m,u,g]=c.map(Number);a=[Number.isNaN(m)?0:m,Number.isNaN(u)?0:u,Number.isNaN(g)?0:g]}return this.round=l,this.origin=a,this}get bbox(){return Kt(this.segments)}get length(){return G(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(t){return rt(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=xt(t),this}toRelative(){const{segments:t}=this;return this.segments=Pt(t),this}toCurve(){const{segments:t}=this;return this.segments=ut(t),this}reverse(t){this.toAbsolute();const{segments:n}=this,r=oe(n),s=r.length>1?r:!1,i=s?s.map((c,l)=>t?l?pt(c):c.slice(0):pt(c)):n.slice(0);let o=[];return s?o=i.flat(1):o=t?n:pt(n),this.segments=o.slice(0),this}normalize(){const{segments:t}=this;return this.segments=it(t),this}optimize(){const{segments:t}=this;return this.segments=le(t,this.round),this}transform(t){if(!t||typeof t!="object"||typeof t=="object"&&!["translate","rotate","skew","scale"].some(l=>l in t))return this;const{segments:n,origin:[r,s,i]}=this,o={};for(const[l,a]of Object.entries(t))l==="skew"&&Array.isArray(a)||(l==="rotate"||l==="translate"||l==="origin"||l==="scale")&&Array.isArray(a)?o[l]=a.map(Number):l!=="origin"&&typeof Number(a)=="number"&&(o[l]=Number(a));const{origin:c}=o;if(Array.isArray(c)&&c.length>=2){const[l,a,m]=c.map(Number);o.origin=[Number.isNaN(l)?r:l,Number.isNaN(a)?s:a,m||i]}else o.origin=[r,s,i];return this.segments=me(n,o),this}flipX(){const{cx:t,cy:n}=this.bbox;return this.transform({rotate:[0,180,0],origin:[t,n,0]}),this}flipY(){const{cx:t,cy:n}=this.bbox;return this.transform({rotate:[180,0,0],origin:[t,n,0]}),this}toString(){return vt(this.segments,this.round)}}return A(w,"CSSMatrix",v),A(w,"getSVGMatrix",ce),A(w,"getPathBBox",Kt),A(w,"getPathArea",ee),A(w,"getTotalLength",G),A(w,"getDrawDirection",Qe),A(w,"getPointAtLength",rt),A(w,"getPropertiesAtLength",Ct),A(w,"getPropertiesAtPoint",ht),A(w,"polygonLength",be),A(w,"polygonArea",Me),A(w,"getClosestPoint",Xe),A(w,"getSegmentOfPoint",Be),A(w,"getSegmentAtLength",Ye),A(w,"isPointInStroke",He),A(w,"isValidPath",ne),A(w,"isPathArray",ft),A(w,"isAbsoluteArray",se),A(w,"isRelativeArray",Fe),A(w,"isCurveArray",Ue),A(w,"isNormalizedArray",re),A(w,"shapeToPath",Ge),A(w,"shapeToPathArray",ie),A(w,"parsePathString",I),A(w,"roundPath",gt),A(w,"splitPath",oe),A(w,"splitCubic",rn),A(w,"optimizePath",le),A(w,"reverseCurve",nn),A(w,"reversePath",pt),A(w,"normalizePath",it),A(w,"transformPath",me),A(w,"pathToAbsolute",xt),A(w,"pathToRelative",Pt),A(w,"pathToCurve",ut),A(w,"pathToString",vt),w}();
//# sourceMappingURL=svg-path-commander.js.map
