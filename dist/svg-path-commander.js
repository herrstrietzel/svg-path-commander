var SVGPathCommander=function(){"use strict";var an=Object.defineProperty;var ln=(Y,Q,$)=>Q in Y?an(Y,Q,{enumerable:!0,configurable:!0,writable:!0,value:$}):Y[Q]=$;var p=(Y,Q,$)=>ln(Y,typeof Q!="symbol"?Q+"":Q,$);var Y=Object.defineProperty,Q=(e,t,s)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,$=(e,t,s)=>Q(e,typeof t!="symbol"?t+"":t,s);const Ze={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},Jt=e=>(e instanceof Float64Array||e instanceof Float32Array||Array.isArray(e)&&e.every(t=>typeof t=="number"))&&[6,16].some(t=>e.length===t),Yt=e=>e instanceof DOMMatrix||e instanceof C||typeof e=="object"&&Object.keys(Ze).every(t=>e&&t in e),ct=e=>{const t=new C,s=Array.from(e);if(!Jt(s))throw TypeError(`CSSMatrix: "${s.join(",")}" must be an array with 6/16 numbers.`);if(s.length===16){const[r,n,i,o,a,c,l,u,m,f,y,h,x,b,A,w]=s;t.m11=r,t.a=r,t.m21=a,t.c=a,t.m31=m,t.m41=x,t.e=x,t.m12=n,t.b=n,t.m22=c,t.d=c,t.m32=f,t.m42=b,t.f=b,t.m13=i,t.m23=l,t.m33=y,t.m43=A,t.m14=o,t.m24=u,t.m34=h,t.m44=w}else if(s.length===6){const[r,n,i,o,a,c]=s;t.m11=r,t.a=r,t.m12=n,t.b=n,t.m21=i,t.c=i,t.m22=o,t.d=o,t.m41=a,t.e=a,t.m42=c,t.f=c}return t},Kt=e=>{if(Yt(e))return ct([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},Wt=e=>{if(typeof e!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a string.`);const t=String(e).replace(/\s/g,"");let s=new C;const r=`CSSMatrix: invalid transform string "${e}"`;return t.split(")").filter(n=>n).forEach(n=>{const[i,o]=n.split("(");if(!o)throw TypeError(r);const a=o.split(",").map(h=>h.includes("rad")?parseFloat(h)*(180/Math.PI):parseFloat(h)),[c,l,u,m]=a,f=[c,l,u],y=[c,l,u,m];if(i==="perspective"&&c&&[l,u].every(h=>h===void 0))s.m34=-1/c;else if(i.includes("matrix")&&[6,16].includes(a.length)&&a.every(h=>!Number.isNaN(+h))){const h=a.map(x=>Math.abs(x)<1e-6?0:x);s=s.multiply(ct(h))}else if(i==="translate3d"&&f.every(h=>!Number.isNaN(+h)))s=s.translate(c,l,u);else if(i==="translate"&&c&&u===void 0)s=s.translate(c,l||0,0);else if(i==="rotate3d"&&y.every(h=>!Number.isNaN(+h))&&m)s=s.rotateAxisAngle(c,l,u,m);else if(i==="rotate"&&c&&[l,u].every(h=>h===void 0))s=s.rotate(0,0,c);else if(i==="scale3d"&&f.every(h=>!Number.isNaN(+h))&&f.some(h=>h!==1))s=s.scale(c,l,u);else if(i==="scale"&&!Number.isNaN(c)&&c!==1&&u===void 0){const h=Number.isNaN(+l)?c:l;s=s.scale(c,h,1)}else if(i==="skew"&&(c||!Number.isNaN(c)&&l)&&u===void 0)s=s.skew(c,l||0);else if(["translate","rotate","scale","skew"].some(h=>i.includes(h))&&/[XYZ]/.test(i)&&c&&[l,u].every(h=>h===void 0))if(i==="skewX"||i==="skewY")s=s[i](c);else{const h=i.replace(/[XYZ]/,""),x=i.replace(h,""),b=["X","Y","Z"].indexOf(x),A=h==="scale"?1:0,w=[b===0?c:A,b===1?c:A,b===2?c:A];s=s[h](...w)}else throw TypeError(r)}),s},Ct=(e,t)=>t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44],Vt=(e,t,s)=>{const r=new C;return r.m41=e,r.e=e,r.m42=t,r.f=t,r.m43=s,r},Gt=(e,t,s)=>{const r=new C,n=Math.PI/180,i=e*n,o=t*n,a=s*n,c=Math.cos(i),l=-Math.sin(i),u=Math.cos(o),m=-Math.sin(o),f=Math.cos(a),y=-Math.sin(a),h=u*f,x=-u*y;r.m11=h,r.a=h,r.m12=x,r.b=x,r.m13=m;const b=l*m*f+c*y;r.m21=b,r.c=b;const A=c*f-l*m*y;return r.m22=A,r.d=A,r.m23=-l*u,r.m31=l*y-c*m*f,r.m32=l*f+c*m*y,r.m33=c*u,r},te=(e,t,s,r)=>{const n=new C,i=Math.sqrt(e*e+t*t+s*s);if(i===0)return n;const o=e/i,a=t/i,c=s/i,l=r*(Math.PI/360),u=Math.sin(l),m=Math.cos(l),f=u*u,y=o*o,h=a*a,x=c*c,b=1-2*(h+x)*f;n.m11=b,n.a=b;const A=2*(o*a*f+c*u*m);n.m12=A,n.b=A,n.m13=2*(o*c*f-a*u*m);const w=2*(a*o*f-c*u*m);n.m21=w,n.c=w;const N=1-2*(x+y)*f;return n.m22=N,n.d=N,n.m23=2*(a*c*f+o*u*m),n.m31=2*(c*o*f+a*u*m),n.m32=2*(c*a*f-o*u*m),n.m33=1-2*(y+h)*f,n},ee=(e,t,s)=>{const r=new C;return r.m11=e,r.a=e,r.m22=t,r.d=t,r.m33=s,r},gt=(e,t)=>{const s=new C;if(e){const r=e*Math.PI/180,n=Math.tan(r);s.m21=n,s.c=n}if(t){const r=t*Math.PI/180,n=Math.tan(r);s.m12=n,s.b=n}return s},ne=e=>gt(e,0),se=e=>gt(0,e),B=(e,t)=>{const s=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,r=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,n=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,i=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,o=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,a=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,c=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,l=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,u=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,m=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,f=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,y=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,h=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,x=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,b=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,A=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return ct([s,r,n,i,o,a,c,l,u,m,f,y,h,x,b,A])};class C{constructor(t){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,t?this.setMatrixValue(t):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(t){return typeof t=="string"&&t.length&&t!=="none"?Wt(t):Array.isArray(t)||t instanceof Float64Array||t instanceof Float32Array?ct(t):typeof t=="object"?Kt(t):this}toFloat32Array(t){return Float32Array.from(Ct(this,t))}toFloat64Array(t){return Float64Array.from(Ct(this,t))}toString(){const{is2D:t}=this,s=this.toFloat64Array(t).join(", ");return`${t?"matrix":"matrix3d"}(${s})`}toJSON(){const{is2D:t,isIdentity:s}=this;return{...this,is2D:t,isIdentity:s}}multiply(t){return B(this,t)}translate(t,s,r){const n=t;let i=s,o=r;return typeof i>"u"&&(i=0),typeof o>"u"&&(o=0),B(this,Vt(n,i,o))}scale(t,s,r){const n=t;let i=s,o=r;return typeof i>"u"&&(i=t),typeof o>"u"&&(o=1),B(this,ee(n,i,o))}rotate(t,s,r){let n=t,i=s||0,o=r||0;return typeof t=="number"&&typeof s>"u"&&typeof r>"u"&&(o=n,n=0,i=0),B(this,Gt(n,i,o))}rotateAxisAngle(t,s,r,n){if([t,s,r,n].some(i=>Number.isNaN(+i)))throw new TypeError("CSSMatrix: expecting 4 values");return B(this,te(t,s,r,n))}skewX(t){return B(this,ne(t))}skewY(t){return B(this,se(t))}skew(t,s){return B(this,gt(t,s))}transformPoint(t){const s=this.m11*t.x+this.m21*t.y+this.m31*t.z+this.m41*t.w,r=this.m12*t.x+this.m22*t.y+this.m32*t.z+this.m42*t.w,n=this.m13*t.x+this.m23*t.y+this.m33*t.z+this.m43*t.w,i=this.m14*t.x+this.m24*t.y+this.m34*t.z+this.m44*t.w;return t instanceof DOMPoint?new DOMPoint(s,r,n,i):{x:s,y:r,z:n,w:i}}}$(C,"Translate",Vt),$(C,"Rotate",Gt),$(C,"RotateAxisAngle",te),$(C,"Scale",ee),$(C,"SkewX",ne),$(C,"SkewY",se),$(C,"Skew",gt),$(C,"Multiply",B),$(C,"fromArray",ct),$(C,"fromMatrix",Kt),$(C,"fromString",Wt),$(C,"toArray",Ct),$(C,"isCompatibleArray",Jt),$(C,"isCompatibleObject",Yt);const K={origin:[0,0,0],round:4},nt={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Pt=e=>{let t=e.pathValue[e.segmentStart],s=t.toLowerCase();const{data:r}=e;for(;r.length>=nt[s]&&(s==="m"&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),s="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(r.splice(0,nt[s]))),!!nt[s]););},I="SVGPathCommander Error",re=e=>{const{index:t,pathValue:s}=e,r=s.charCodeAt(t);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err=`${I}: invalid Arc flag "${s[t]}", expecting 0 or 1 at index ${t}`},F=e=>e>=48&&e<=57,H="Invalid path value",ie=e=>{const{max:t,pathValue:s,index:r}=e;let n=r,i=!1,o=!1,a=!1,c=!1,l;if(n>=t){e.err=`${I}: ${H} at index ${n}, "pathValue" is missing param`;return}if(l=s.charCodeAt(n),(l===43||l===45)&&(n+=1,l=s.charCodeAt(n)),!F(l)&&l!==46){e.err=`${I}: ${H} at index ${n}, "${s[n]}" is not a number`;return}if(l!==46){if(i=l===48,n+=1,l=s.charCodeAt(n),i&&n<t&&l&&F(l)){e.err=`${I}: ${H} at index ${r}, "${s[r]}" illegal number`;return}for(;n<t&&F(s.charCodeAt(n));)n+=1,o=!0;l=s.charCodeAt(n)}if(l===46){for(c=!0,n+=1;F(s.charCodeAt(n));)n+=1,a=!0;l=s.charCodeAt(n)}if(l===101||l===69){if(c&&!o&&!a){e.err=`${I}: ${H} at index ${n}, "${s[n]}" invalid float exponent`;return}if(n+=1,l=s.charCodeAt(n),(l===43||l===45)&&(n+=1),n<t&&F(s.charCodeAt(n)))for(;n<t&&F(s.charCodeAt(n));)n+=1;else{e.err=`${I}: ${H} at index ${n}, "${s[n]}" invalid integer exponent`;return}}e.index=n,e.param=+e.pathValue.slice(r,n)},oe=e=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(e),st=e=>{const{pathValue:t,max:s}=e;for(;e.index<s&&oe(t.charCodeAt(e.index));)e.index+=1},ce=e=>{switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},ae=e=>F(e)||e===43||e===45||e===46,le=e=>(e|32)===97,ue=e=>{switch(e|32){case 109:case 77:return!0;default:return!1}},$t=e=>{var c;const{max:t,pathValue:s,index:r,segments:n}=e,i=s.charCodeAt(r),o=nt[s[r].toLowerCase()];if(e.segmentStart=r,!ce(i)){e.err=`${I}: ${H} "${s[r]}" is not a path command at index ${r}`;return}const a=n[n.length-1];if(!ue(i)&&((c=a==null?void 0:a[0])==null?void 0:c.toLocaleLowerCase())==="z"){e.err=`${I}: ${H} "${s[r]}" is not a MoveTo path command at index ${r}`;return}if(e.index+=1,st(e),e.data=[],!o){Pt(e);return}for(;;){for(let l=o;l>0;l-=1){if(le(i)&&(l===3||l===4)?re(e):ie(e),e.err.length)return;e.data.push(e.param),st(e),e.index<t&&s.charCodeAt(e.index)===44&&(e.index+=1,st(e))}if(e.index>=e.max||!ae(s.charCodeAt(e.index)))break}Pt(e)};class zt{constructor(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const E=e=>{if(typeof e!="string")return e.slice(0);const t=new zt(e);for(st(t);t.index<t.max&&!t.err.length;)$t(t);if(t!=null&&t.err.length)throw TypeError(t.err);return t.segments},qt=(e,t,s,r)=>{const[n]=e,i=n.toUpperCase();if(t===0||i===n)return e;if(i==="A")return[i,e[1],e[2],e[3],e[4],e[5],e[6]+s,e[7]+r];if(i==="V")return[i,e[1]+r];if(i==="H")return[i,e[1]+s];if(i==="L")return[i,e[1]+s,e[2]+r];{const a=e.slice(1).map((c,l)=>c+(l%2?r:s));return[i].concat(a)}},R=(e,t)=>{let s=e.length,r,n="M",i="M",o=!1,a=0,c=0,l=0,u=0,m=0;for(let f=0;f<s;f+=1){r=e[f],[n]=r,m=r.length,i=n.toUpperCase(),o=i!==n;const y=t(r,f,a,c);if(y===!1)break;i==="Z"?(a=l,c=u):i==="H"?a=r[1]+(o?a:0):i==="V"?c=r[1]+(o?c:0):(a=r[m-2]+(o?a:0),c=r[m-1]+(o?c:0),i==="M"&&(l=a,u=c)),y&&(e[f]=y,y[0]==="C"&&(s=e.length))}return e},pt=e=>{const t=E(e);return R(t,qt)},kt=(e,t,s,r)=>{const[n]=e,i=n.toLowerCase();if(t===0||n===i)return e;if(i==="a")return[i,e[1],e[2],e[3],e[4],e[5],e[6]-s,e[7]-r];if(i==="v")return[i,e[1]-r];if(i==="h")return[i,e[1]-s];if(i==="l")return[i,e[1]-s,e[2]-r];{const a=e.slice(1).map((c,l)=>c-(l%2?r:s));return[i].concat(a)}},me=e=>{const t=E(e);return R(t,kt)},at=(e,t,s)=>{const{sin:r,cos:n}=Math,i=e*n(s)-t*r(s),o=e*r(s)+t*n(s);return{x:i,y:o}},It=(e,t,s,r,n,i,o,a,c,l)=>{let u=e,m=t,f=s,y=r,h=a,x=c;const b=Math.PI*120/180,A=Math.PI/180*(+n||0);let w=[],N,M,d,v,L;if(l)[M,d,v,L]=l;else{N=at(u,m,-A),u=N.x,m=N.y,N=at(h,x,-A),h=N.x,x=N.y;const P=(u-h)/2,q=(m-x)/2;let _=P*P/(f*f)+q*q/(y*y);_>1&&(_=Math.sqrt(_),f*=_,y*=_);const J=f*f,D=y*y,De=(i===o?-1:1)*Math.sqrt(Math.abs((J*D-J*q*q-D*P*P)/(J*q*q+D*P*P)));v=De*f*q/y+(u+h)/2,L=De*-y*P/f+(m+x)/2,M=Math.asin(((m-L)/y*10**9>>0)/10**9),d=Math.asin(((x-L)/y*10**9>>0)/10**9),M=u<v?Math.PI-M:M,d=h<v?Math.PI-d:d,M<0&&(M=Math.PI*2+M),d<0&&(d=Math.PI*2+d),o&&M>d&&(M-=Math.PI*2),!o&&d>M&&(d-=Math.PI*2)}let T=d-M;if(Math.abs(T)>b){const P=d,q=h,_=x;d=M+b*(o&&d>M?1:-1),h=v+f*Math.cos(d),x=L+y*Math.sin(d),w=It(h,x,f,y,n,0,o,q,_,[d,P,v,L])}T=d-M;const O=Math.cos(M),k=Math.sin(M),yt=Math.cos(d),it=Math.sin(d),X=Math.tan(T/4),ot=4/3*f*X,j=4/3*y*X,G=[u,m],S=[u+ot*k,m-j*O],tt=[h+ot*it,x-j*yt],et=[h,x];if(S[0]=2*G[0]-S[0],S[1]=2*G[1]-S[1],l)return[S[0],S[1],tt[0],tt[1],et[0],et[1]].concat(w);w=[S[0],S[1],tt[0],tt[1],et[0],et[1]].concat(w);const xt=[];for(let P=0,q=w.length;P<q;P+=1)xt[P]=P%2?at(w[P-1],w[P],A).y:at(w[P],w[P+1],A).x;return xt},he=(e,t,s,r,n,i)=>{const o=.3333333333333333,a=2/3;return[o*e+a*s,o*t+a*r,o*n+a*s,o*i+a*r,n,i]},Z=(e,t,s)=>{const[r,n]=e,[i,o]=t;return[r+(i-r)*s,n+(o-n)*s]},Et=(e,t,s,r)=>{const n=Z([e,t],[s,r],.3333333333333333),i=Z([e,t],[s,r],2/3);return[n[0],n[1],i[0],i[1],s,r]},Rt=(e,t)=>{const[s]=e,r=e.slice(1).map(Number),[n,i]=r,{x1:o,y1:a,x:c,y:l}=t;return"TQ".includes(s)||(t.qx=null,t.qy=null),s==="M"?(t.x=n,t.y=i,e):s==="A"?["C"].concat(It(o,a,r[0],r[1],r[2],r[3],r[4],r[5],r[6])):s==="Q"?(t.qx=n,t.qy=i,["C"].concat(he(o,a,r[0],r[1],r[2],r[3]))):s==="L"?["C"].concat(Et(o,a,n,i)):s==="Z"?["C"].concat(Et(o,a,c,l)):e},W=(e,t)=>{const[s]=e,r=s.toUpperCase(),n=s!==r,{x1:i,y1:o,x2:a,y2:c,x:l,y:u}=t,m=e.slice(1);let f=m.map((y,h)=>y+(n?h%2?u:l:0));if("TQ".includes(r)||(t.qx=null,t.qy=null),r==="A")return f=m.slice(0,-2).concat(m[5]+(n?l:0),m[6]+(n?u:0)),["A"].concat(f);if(r==="H")return["L",e[1]+(n?l:0),o];if(r==="V")return["L",i,e[1]+(n?u:0)];if(r==="L")return["L",e[1]+(n?l:0),e[2]+(n?u:0)];if(r==="M")return["M",e[1]+(n?l:0),e[2]+(n?u:0)];if(r==="C")return["C"].concat(f);if(r==="S"){const y=i*2-a,h=o*2-c;return t.x1=y,t.y1=h,["C",y,h].concat(f)}else if(r==="T"){const y=i*2-(t.qx?t.qx:0),h=o*2-(t.qy?t.qy:0);return t.qx=y,t.qy=h,["Q",y,h].concat(f)}else if(r==="Q"){const[y,h]=f;return t.qx=y,t.qy=h,["Q"].concat(f)}else if(r==="Z")return["Z"];return e},U={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},bt=e=>{const t={...U},s=E(e);return R(s,(r,n,i,o)=>{t.x=i,t.y=o;const a=W(r,t);let c=Rt(a,t);c[0]==="C"&&c.length>7&&(s.splice(n+1,0,["C"].concat(c.slice(7))),c=c.slice(0,7));const u=c.length;return t.x1=+c[u-2],t.y1=+c[u-1],t.x2=+c[u-4]||t.x1,t.y2=+c[u-3]||t.y1,c})},z=(e,t)=>{const s=t>=1?10**t:1;return t>0?Math.round(e*s)/s:Math.round(e)},jt=(e,t)=>{const s=e.length;let{round:r}=K,n=e[0],i="";r=t==="off"||typeof t=="number"&&t>=0?t:typeof r=="number"&&r>=0?r:"off";for(let o=0;o<s;o+=1){n=e[o];const[a]=n,c=n.slice(1);if(i+=a,r==="off")i+=c.join(" ");else{let l=0;const u=c.length;for(;l<u;)i+=z(c[l],r),l!==u-1&&(i+=" "),l+=1}}return i},dt=(e,t)=>Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),lt=(e,t,s,r)=>dt([e,t],[s,r]),St=(e,t,s,r,n)=>{let i={x:e,y:t};if(typeof n=="number"){const o=dt([e,t],[s,r]);if(n<=0)i={x:e,y:t};else if(n>=o)i={x:s,y:r};else{const[a,c]=Z([e,t],[s,r],n/o);i={x:a,y:c}}}return i},Dt=(e,t,s,r)=>{const{min:n,max:i}=Math;return{min:{x:n(e,s),y:n(t,r)},max:{x:i(e,s),y:i(t,r)}}},Zt=(e,t,s)=>{const r=s/2,n=Math.sin(r),i=Math.cos(r),o=e**2*n**2,a=t**2*i**2,c=Math.sqrt(o+a)*s;return Math.abs(c)},V=(e,t,s,r,n,i)=>{const{sin:o,cos:a}=Math,c=a(n),l=o(n),u=s*a(i),m=r*o(i);return{x:e+c*u-l*m,y:t+l*u+c*m}},Ot=(e,t)=>{const{x:s,y:r}=e,{x:n,y:i}=t,o=s*n+r*i,a=Math.sqrt((s**2+r**2)*(n**2+i**2));return(s*i-r*n<0?-1:1)*Math.acos(o/a)},At=(e,t,s,r,n,i,o,a,c)=>{const{abs:l,sin:u,cos:m,sqrt:f,PI:y}=Math;let h=l(s),x=l(r);const A=(n%360+360)%360*(y/180);if(e===a&&t===c)return{rx:h,ry:x,startAngle:0,endAngle:0,center:{x:a,y:c}};if(h===0||x===0)return{rx:h,ry:x,startAngle:0,endAngle:0,center:{x:(a+e)/2,y:(c+t)/2}};const w=(e-a)/2,N=(t-c)/2,M={x:m(A)*w+u(A)*N,y:-u(A)*w+m(A)*N},d=M.x**2/h**2+M.y**2/x**2;d>1&&(h*=f(d),x*=f(d));const v=h**2*x**2-h**2*M.y**2-x**2*M.x**2,L=h**2*M.y**2+x**2*M.x**2;let T=v/L;T=T<0?0:T;const O=(i!==o?1:-1)*f(T),k={x:O*(h*M.y/x),y:O*(-(x*M.x)/h)},yt={x:m(A)*k.x-u(A)*k.y+(e+a)/2,y:u(A)*k.x+m(A)*k.y+(t+c)/2},it={x:(M.x-k.x)/h,y:(M.y-k.y)/x},X=Ot({x:1,y:0},it),ot={x:(-M.x-k.x)/h,y:(-M.y-k.y)/x};let j=Ot(it,ot);!o&&j>0?j-=2*y:o&&j<0&&(j+=2*y),j%=2*y;const G=X+j;return{center:yt,startAngle:X,endAngle:G,rx:h,ry:x}},Qt=(e,t,s,r,n,i,o,a,c)=>{const{rx:l,ry:u,startAngle:m,endAngle:f}=At(e,t,s,r,n,i,o,a,c);return Zt(l,u,f-m)},fe=(e,t,s,r,n,i,o,a,c,l)=>{let u={x:e,y:t};const{center:m,rx:f,ry:y,startAngle:h,endAngle:x}=At(e,t,s,r,n,i,o,a,c);if(typeof l=="number"){const b=Zt(f,y,x-h);if(l<=0)u={x:e,y:t};else if(l>=b)u={x:a,y:c};else{if(e===a&&t===c)return{x:a,y:c};if(f===0||y===0)return St(e,t,a,c,l);const{PI:A,cos:w,sin:N}=Math,M=x-h,v=(n%360+360)%360*(A/180),L=h+M*(l/b),T=f*w(L),O=y*N(L);u={x:w(v)*T-N(v)*O+m.x,y:N(v)*T+w(v)*O+m.y}}}return u},ye=(e,t,s,r,n,i,o,a,c)=>{const{center:l,rx:u,ry:m,startAngle:f,endAngle:y}=At(e,t,s,r,n,i,o,a,c),h=y-f,{min:x,max:b,tan:A,atan2:w,PI:N}=Math,M={x:a,y:c},{x:d,y:v}=l,L=[M],T=n*N/180,O=A(T),k=w(-m*O,u),yt=k,it=k+N,X=w(m,u*O),ot=X+N,j=[e,a],G=[t,c],S=x(...j),tt=b(...j),et=x(...G),xt=b(...G),P=y-h*.001,q=V(d,v,u,m,T,P),_=y-h*.999,J=V(d,v,u,m,T,_);return(q.x>tt||J.x>tt)&&L.push(V(d,v,u,m,T,yt)),(q.x<S||J.x<S)&&L.push(V(d,v,u,m,T,it)),(q.y<et||J.y<et)&&L.push(V(d,v,u,m,T,ot)),(q.y>xt||J.y>xt)&&L.push(V(d,v,u,m,T,X)),{min:{x:x(...L.map(D=>D.x)),y:x(...L.map(D=>D.y))},max:{x:b(...L.map(D=>D.x)),y:b(...L.map(D=>D.y))}}},Oe=Object.freeze(Object.defineProperty({__proto__:null,angleBetween:Ot,arcLength:Zt,arcPoint:V,getArcBBox:ye,getArcLength:Qt,getArcProps:At,getPointAtArcLength:fe},Symbol.toStringTag,{value:"Module"})),Bt=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],xe=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],ge=e=>{const t=[];for(let s=e,r=s.length,n=r-1;r>1;r-=1,n-=1){const i=[];for(let o=0;o<n;o+=1)i.push({x:n*(s[o+1].x-s[o].x),y:n*(s[o+1].y-s[o].y),t:0});t.push(i),s=i}return t},pe=(e,t)=>{if(t===0)return e[0].t=0,e[0];const s=e.length-1;if(t===1)return e[s].t=1,e[s];const r=1-t;let n=e;if(s===0)return e[0].t=t,e[0];if(s===1)return{x:r*n[0].x+t*n[1].x,y:r*n[0].y+t*n[1].y,t};const i=r*r,o=t*t;let a=0,c=0,l=0,u=0;return s===2?(n=[n[0],n[1],n[2],{x:0,y:0}],a=i,c=r*t*2,l=o):s===3&&(a=i*r,c=i*t*3,l=r*o*3,u=t*o),{x:a*n[0].x+c*n[1].x+l*n[2].x+u*n[3].x,y:a*n[0].y+c*n[1].y+l*n[2].y+u*n[3].y,t}},be=(e,t)=>{const s=e(t),r=s.x*s.x+s.y*s.y;return Math.sqrt(r)},de=e=>{const s=Bt.length;let r=0;for(let n=0,i;n<s;n++)i=.5*Bt[n]+.5,r+=xe[n]*be(e,i);return .5*r},ut=e=>{const t=[];for(let r=0,n=e.length,i=2;r<n;r+=i)t.push({x:e[r],y:e[r+1]});const s=ge(t);return de(r=>pe(s[0],r))},Ae=1e-8,Mt=([e,t,s])=>{const r=Math.min(e,s),n=Math.max(e,s);if(t>=e?s>=t:s<=t)return[r,n];const i=(e*s-t*t)/(e-2*t+s);return i<r?[i,n]:[r,i]},_t=([e,t,s,r])=>{const n=e-3*t+3*s-r;if(Math.abs(n)<Ae)return e===r&&e===t?[e,r]:Mt([e,-.5*e+1.5*t,e-3*t+3*s]);const i=-e*s+e*r-t*s-t*r+t*t+s*s;if(i<=0)return[Math.min(e,r),Math.max(e,r)];const o=Math.sqrt(i);let a=Math.min(e,r),c=Math.max(e,r);const l=e-2*t+s;for(let u=(l+o)/n,m=1;m<=2;u=(l-o)/n,m++)if(u>0&&u<1){const f=e*(1-u)*(1-u)*(1-u)+t*3*(1-u)*(1-u)*u+s*3*(1-u)*u*u+r*u*u*u;f<a&&(a=f),f>c&&(c=f)}return[a,c]},Me=([e,t,s,r,n,i,o,a],c)=>{const l=1-c;return{x:l**3*e+3*l**2*c*s+3*l*c**2*n+c**3*o,y:l**3*t+3*l**2*c*r+3*l*c**2*i+c**3*a}},Ft=(e,t,s,r,n,i,o,a)=>ut([e,t,s,r,n,i,o,a]),we=(e,t,s,r,n,i,o,a,c)=>{const l=typeof c=="number";let u={x:e,y:t};if(l){const m=ut([e,t,s,r,n,i,o,a]);c<=0||(c>=m?u={x:o,y:a}:u=Me([e,t,s,r,n,i,o,a],c/m))}return u},Ne=(e,t,s,r,n,i,o,a)=>{const c=_t([e,s,n,o]),l=_t([t,r,i,a]);return{min:{x:c[0],y:l[0]},max:{x:c[1],y:l[1]}}},Le=([e,t,s,r,n,i],o)=>{const a=1-o;return{x:a**2*e+2*a*o*s+o**2*n,y:a**2*t+2*a*o*r+o**2*i}},Ht=(e,t,s,r,n,i)=>ut([e,t,s,r,n,i]),ve=(e,t,s,r,n,i,o)=>{const a=typeof o=="number";let c={x:e,y:t};if(a){const l=ut([e,t,s,r,n,i]);o<=0||(o>=l?c={x:n,y:i}:c=Le([e,t,s,r,n,i],o/l))}return c},Te=(e,t,s,r,n,i)=>{const o=Mt([e,s,n]),a=Mt([t,r,i]);return{min:{x:o[0],y:a[0]},max:{x:o[1],y:a[1]}}},Qe=e=>{const t=e.length;let s=-1,r,n=e[t-1],i=0;for(;++s<t;)r=n,n=e[s],i+=r[1]*n[0]-r[0]*n[1];return i/2},Be=e=>e.reduce((t,s,r)=>r?t+dt(e[r-1],s):0,0),wt=1e-5,mt=e=>{const t=E(e),s={...U};return R(t,(r,n,i,o)=>{s.x=i,s.y=o;const a=W(r,s),c=a.length;return s.x1=+a[c-2],s.y1=+a[c-1],s.x2=+a[c-4]||s.x1,s.y2=+a[c-3]||s.y1,a})},ht=(e,t)=>{const s=mt(e);let r=!1,n=[],i="M",o=0,a=0,[c,l]=s[0].slice(1);const u=typeof t=="number";let m={x:c,y:l},f=0,y=m,h=0;return!u||t<wt?m:(R(s,(x,b,A,w)=>{if([i]=x,r=i==="M",n=r?n:[A,w].concat(x.slice(1)),r?([,c,l]=x,m={x:c,y:l},f=0):i==="L"?(m=St(n[0],n[1],n[2],n[3],t-h),f=lt(n[0],n[1],n[2],n[3])):i==="A"?(m=fe(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],t-h),f=Qt(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])):i==="C"?(m=we(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],t-h),f=Ft(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])):i==="Q"?(m=ve(n[0],n[1],n[2],n[3],n[4],n[5],t-h),f=Ht(n[0],n[1],n[2],n[3],n[4],n[5])):i==="Z"&&(n=[A,w,c,l],m={x:c,y:l},f=lt(n[0],n[1],n[2],n[3])),[o,a]=n.slice(-2),h<t)y=m;else return!1;h+=f}),t>h-wt?{x:o,y:a}:y)},rt=e=>{const t=E(e),s={...U};let r=!1,n=[],i="M",o=0,a=0,c=0;return R(t,(l,u,m,f)=>{s.x=m,s.y=f;const y=W(l,s);[i]=y,r=i==="M",n=r?n:[m,f].concat(y.slice(1)),r?[,o,a]=y:i==="L"?c+=lt(n[0],n[1],n[2],n[3]):i==="A"?c+=Qt(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]):i==="C"?c+=Ft(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]):i==="Q"?c+=Ht(n[0],n[1],n[2],n[3],n[4],n[5]):i==="Z"&&(n=[m,f,o,a],c+=lt(n[0],n[1],n[2],n[3]));const h=y.length;s.x1=+y[h-2],s.y1=+y[h-1],s.x2=+y[h-4]||s.x1,s.y2=+y[h-3]||s.y1}),c},Ut=(e,t)=>{const s=E(e);let r=s.slice(0),n=rt(r),i=r.length-1,o=0,a=0,c=s[0];if(i<=0||!t||!Number.isFinite(t))return{segment:c,index:0,length:a,lengthAtSegment:o};if(t>=n)return r=s.slice(0,-1),o=rt(r),a=n-o,c=s[i],{segment:c,index:i,length:a,lengthAtSegment:o};const l=[];for(;i>0;)c=r[i],r=r.slice(0,-1),o=rt(r),a=n-o,n=o,l.push({segment:c,index:i,length:a,lengthAtSegment:o}),i-=1;return l.find(({lengthAtSegment:u})=>u<=t)},Nt=(e,t)=>{const s=E(e),r=mt(s),n=rt(r),i=M=>{const d=M.x-t.x,v=M.y-t.y;return d*d+v*v};let o=8,a,c={x:0,y:0},l=0,u=0,m=1/0;for(let M=0;M<=n;M+=o)a=ht(r,M),l=i(a),l<m&&(c=a,u=M,m=l);o/=2;let f,y,h=0,x=0,b=0,A=0;for(;o>1e-6&&(h=u-o,f=ht(r,h),b=i(f),x=u+o,y=ht(r,x),A=i(y),h>=0&&b<m?(c=f,u=h,m=b):x<=n&&A<m?(c=y,u=x,m=A):o/=2,!(o<1e-5)););const w=Ut(s,u),N=Math.sqrt(m);return{closest:c,distance:N,segment:w}},_e=(e,t)=>Nt(e,t).closest,Fe=(e,t,s,r,n,i,o,a)=>3*((a-t)*(s+n)-(o-e)*(r+i)+r*(e-n)-s*(t-i)+a*(n+e/3)-o*(i+t/3))/20,Ce=e=>{let t=0,s=0,r=0;return bt(e).map(n=>{switch(n[0]){case"M":return[,t,s]=n,0;default:return r=Fe(t,s,n[1],n[2],n[3],n[4],n[5],n[6]),[t,s]=n.slice(-2),r}}).reduce((n,i)=>n+i,0)},He=e=>Ce(bt(e))>=0,Pe=e=>{if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const t=E(e);let s=[],r="M";const n=0,i=0;let o=0,a=0;const c=[],l=[];let u={x:n,y:i},m={x:n,y:i};const f={...U};R(t,(N,M,d,v)=>{f.x=d,f.y=v;const L=W(N,f);[r]=L,s=[d,v].concat(L.slice(1)),r==="M"?([,o,a]=L,u={x:o,y:a},m={x:o,y:a}):r==="L"?{min:u,max:m}=Dt(s[0],s[1],s[2],s[3]):r==="A"?{min:u,max:m}=ye(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8]):r==="C"?{min:u,max:m}=Ne(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]):r==="Q"?{min:u,max:m}=Te(s[0],s[1],s[2],s[3],s[4],s[5]):r==="Z"&&(s=[d,v,o,a],{min:u,max:m}=Dt(s[0],s[1],s[2],s[3])),c.push(u),l.push(m);const T=L.length;f.x1=+L[T-2],f.y1=+L[T-1],f.x2=+L[T-4]||f.x1,f.y2=+L[T-3]||f.y1});const y=Math.min(...c.map(N=>N.x)),h=Math.max(...l.map(N=>N.x)),x=Math.min(...c.map(N=>N.y)),b=Math.max(...l.map(N=>N.y)),A=h-y,w=b-x;return{width:A,height:w,x:y,y:x,x2:h,y2:b,cx:y+A/2,cy:x+w/2,cz:Math.max(A,w)+Math.min(A,w)/2}},Ue=(e,t)=>Ut(e,t).segment,Xe=(e,t)=>Nt(e,t).segment,Lt=e=>Array.isArray(e)&&e.every(t=>{const s=t[0].toLowerCase();return nt[s]===t.length-1&&"achlmqstvz".includes(s)&&t.slice(1).every(Number.isFinite)})&&e.length>0,$e=e=>Lt(e)&&e.every(([t])=>t===t.toUpperCase()),ze=e=>$e(e)&&e.every(([t])=>"ACLMQZ".includes(t)),Je=e=>ze(e)&&e.every(([t])=>"MC".includes(t)),Ye=(e,t)=>{const{distance:s}=Nt(e,t);return Math.abs(s)<wt},Ke=e=>Lt(e)&&e.slice(1).every(([t])=>t===t.toLowerCase()),qe=e=>{if(typeof e!="string"||!e.length)return!1;const t=new zt(e);for(st(t);t.index<t.max&&!t.err.length;)$t(t);return!t.err.length&&"mM".includes(t.segments[0][0])},ft={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},We=e=>{let{x1:t,y1:s,x2:r,y2:n}=e;return[t,s,r,n]=[t,s,r,n].map(i=>+i),[["M",t,s],["L",r,n]]},Ve=e=>{const t=[],s=(e.points||"").trim().split(/[\s|,]/).map(n=>+n);let r=0;for(;r<s.length;)t.push([r?"L":"M",s[r],s[r+1]]),r+=2;return e.type==="polygon"?[...t,["z"]]:t},Ge=e=>{let{cx:t,cy:s,r}=e;return[t,s,r]=[t,s,r].map(n=>+n),[["M",t-r,s],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,-2*r,0]]},tn=e=>{let{cx:t,cy:s}=e,r=e.rx||0,n=e.ry||r;return[t,s,r,n]=[t,s,r,n].map(i=>+i),[["M",t-r,s],["a",r,n,0,1,0,2*r,0],["a",r,n,0,1,0,-2*r,0]]},en=e=>{const t=+e.x||0,s=+e.y||0,r=+e.width,n=+e.height;let i=+(e.rx||0),o=+(e.ry||i);return i||o?(i*2>r&&(i-=(i*2-r)/2),o*2>n&&(o-=(o*2-n)/2),[["M",t+i,s],["h",r-i*2],["s",i,0,i,o],["v",n-o*2],["s",0,o,-i,o],["h",-r+i*2],["s",-i,0,-i,-o],["v",-n+o*2],["s",0,-o,i,-o]]):[["M",t,s],["h",r],["v",n],["H",t],["Z"]]},ke=(e,t)=>{const r=(t||document).defaultView||window,n=Object.keys(ft),i=e instanceof r.SVGElement,o=i?e.tagName:null;if(o&&[...n,"path"].every(m=>o!==m))throw TypeError(`${I}: "${o}" is not SVGElement`);const a=i?o:e.type,c=ft[a],l={type:a};i?c.forEach(m=>{l[m]=e.getAttribute(m)}):Object.assign(l,e);let u=[];return a==="circle"?u=Ge(l):a==="ellipse"?u=tn(l):["polyline","polygon"].includes(a)?u=Ve(l):a==="rect"?u=en(l):a==="line"?u=We(l):["glyph","path"].includes(a)&&(u=E(i?e.getAttribute("d")||"":e.d||"")),Lt(u)&&u.length?u:!1},nn=(e,t,s)=>{const r=s||document,n=r.defaultView||window,i=Object.keys(ft),o=e instanceof n.SVGElement,a=o?e.tagName:null;if(a==="path")throw TypeError(`${I}: "${a}" is already SVGPathElement`);if(a&&i.every(x=>a!==x))throw TypeError(`${I}: "${a}" is not SVGElement`);const c=r.createElementNS("http://www.w3.org/2000/svg","path"),l=o?a:e.type,u=ft[l],m={type:l},f=K.round,y=ke(e,r),h=y&&y.length?jt(y,f):"";return o?(u.forEach(x=>{m[x]=e.getAttribute(x)}),Object.values(e.attributes).forEach(({name:x,value:b})=>{u.includes(x)||c.setAttribute(x,b)})):(Object.assign(m,e),Object.keys(m).forEach(x=>{!u.includes(x)&&x!=="type"&&c.setAttribute(x.replace(/[A-Z]/g,b=>`-${b.toLowerCase()}`),m[x])})),qe(h)?(c.setAttribute("d",h),t&&o&&(e.before(c,e),e.remove()),c):!1},Ie=e=>{let t=new C;const{origin:s}=e,[r,n]=s,{translate:i}=e,{rotate:o}=e,{skew:a}=e,{scale:c}=e;return Array.isArray(i)&&i.length>=2&&i.every(l=>!Number.isNaN(+l))&&i.some(l=>l!==0)?t=t.translate(...i):typeof i=="number"&&!Number.isNaN(i)&&(t=t.translate(i)),(o||a||c)&&(t=t.translate(r,n),Array.isArray(o)&&o.length>=2&&o.every(l=>!Number.isNaN(+l))&&o.some(l=>l!==0)?t=t.rotate(...o):typeof o=="number"&&!Number.isNaN(o)&&(t=t.rotate(o)),Array.isArray(a)&&a.length===2&&a.every(l=>!Number.isNaN(+l))&&a.some(l=>l!==0)?(t=a[0]?t.skewX(a[0]):t,t=a[1]?t.skewY(a[1]):t):typeof a=="number"&&!Number.isNaN(a)&&(t=t.skewX(a)),Array.isArray(c)&&c.length>=2&&c.every(l=>!Number.isNaN(+l))&&c.some(l=>l!==1)?t=t.scale(...c):typeof c=="number"&&!Number.isNaN(c)&&(t=t.scale(c)),t=t.translate(-r,-n)),t},Ee=(e,t,s,r)=>{const[n]=e,{round:i}=K,o=typeof i=="number"?i:4,a=t.slice(1),{x1:c,y1:l,x2:u,y2:m,x:f,y}=s,[h,x]=a.slice(-2),b=e;if("TQ".includes(n)||(s.qx=null,s.qy=null),n==="L"){if(z(f,o)===z(h,o))return["V",x];if(z(y,o)===z(x,o))return["H",h]}else if(n==="C"){const[A,w]=a;if(s.x1=A,s.y1=w,"CS".includes(r)&&(z(A,o)===z(c*2-u,o)&&z(w,o)===z(l*2-m,o)||z(c,o)===z(u*2-f,o)&&z(l,o)===z(m*2-y,o)))return["S",a[2],a[3],a[4],a[5]]}else if(n==="Q"){const[A,w]=a;if(s.qx=A,s.qy=w,"QT".includes(r)&&z(A,o)===z(c*2-u,o)&&z(w,o)===z(l*2-m,o))return["T",a[2],a[3]]}return b},vt=(e,t)=>{const s=e.slice(1).map(r=>z(r,t));return[e[0]].concat(s)},Re=(e,t)=>{const s=pt(e),r=typeof t=="number"&&t>=0?t:2,n={...U},i=[];let o="M",a="Z";return R(s,(c,l,u,m)=>{n.x=u,n.y=m;const f=W(c,n);let y=c;if([o]=c,i[l]=o,l){a=i[l-1];const x=Ee(c,f,n,a),b=vt(x,r),A=b.join(""),w=kt(x,l,u,m),N=vt(w,r),M=N.join("");y=A.length<M.length?b:N}const h=f.length;return n.x1=+f[h-2],n.y1=+f[h-1],n.x2=+f[h-4]||n.x1,n.y2=+f[h-3]||n.y1,y})},sn=(e,t)=>{let s=C.Translate(t[0],t[1],t[2]);return[,,,s.m44]=t,s=e.multiply(s),[s.m41,s.m42,s.m43,s.m44]},Xt=(e,t,s)=>{const[r,n,i]=s,[o,a,c]=sn(e,[t[0],t[1],0,1]),l=o-r,u=a-n,m=c-i;return[l*(Math.abs(i)/Math.abs(m)||1)+r,u*(Math.abs(i)/Math.abs(m)||1)+n]},rn=e=>{const t=e.slice(1).map((s,r,n)=>r?n[r-1].slice(-2).concat(s.slice(1)):e[0].slice(1).concat(s.slice(1))).map(s=>s.map((r,n)=>s[s.length-n-2*(1-n%2)])).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(s=>["C"].concat(s.slice(2))))},Tt=e=>{const t=pt(e),s=mt(t),r=t.length,n=t[r-1][0]==="Z",i=R(t,(o,a)=>{const c=s[a],l=a&&t[a-1],u=l&&l[0],m=t[a+1],f=m&&m[0],[y]=o,[h,x]=s[a?a-1:r-1].slice(-2);let b=o;switch(y){case"M":b=n?["Z"]:[y,h,x];break;case"A":b=[y,o[1],o[2],o[3],o[4],o[5]===1?0:1,h,x];break;case"C":m&&f==="S"?b=["S",o[1],o[2],h,x]:b=[y,o[3],o[4],o[1],o[2],h,x];break;case"S":u&&"CS".includes(u)&&(!m||f!=="S")?b=["C",c[3],c[4],c[1],c[2],h,x]:b=[y,c[1],c[2],h,x];break;case"Q":m&&f==="T"?b=["T",h,x]:b=[y,o[1],o[2],h,x];break;case"T":u&&"QT".includes(u)&&(!m||f!=="T")?b=["Q",c[1],c[2],h,x]:b=[y,h,x];break;case"Z":b=["M",h,x];break;case"H":b=[y,h];break;case"V":b=[y,x];break;default:b=[y].concat(o.slice(1,-2),h,x)}return b});return n?i.reverse():[i[0]].concat(i.slice(1).reverse())},on=(e,t)=>{let{round:s}=K;return s=t==="off"||typeof t=="number"&&t>=0?t:typeof s=="number"&&s>=0?s:"off",s==="off"?e.slice(0):R(e,r=>vt(r,s))},cn=(e,t=.5)=>{const s=t,r=e.slice(0,2),n=e.slice(2,4),i=e.slice(4,6),o=e.slice(6,8),a=Z(r,n,s),c=Z(n,i,s),l=Z(i,o,s),u=Z(a,c,s),m=Z(c,l,s),f=Z(u,m,s);return[["C",a[0],a[1],u[0],u[1],f[0],f[1]],["C",m[0],m[1],l[0],l[1],o[0],o[1]]]},je=e=>{const t=[];let s,r=-1,n=0,i=0,o=0,a=0;const c={...U};return e.forEach(l=>{const[u]=l,m=u.toUpperCase(),f=u.toLowerCase(),y=u===f,h=l.slice(1);m==="M"?(r+=1,[n,i]=h,n+=y?c.x:0,i+=y?c.y:0,o=n,a=i,s=[y?[m,o,a]:l]):(m==="Z"?(n=o,i=a):m==="H"?([,n]=l,n+=y?c.x:0):m==="V"?([,i]=l,i+=y?c.y:0):([n,i]=l.slice(-2),n+=y?c.x:0,i+=y?c.y:0),s.push(l)),c.x=n,c.y=i,t[r]=s}),t},Se=(e,t)=>{let s=0,r=0,n=0,i=0,o=0,a=0,c="M";const l={...U},u=E(e),m=t&&Object.keys(t);if(!t||m&&!m.length)return u.slice(0);t.origin||Object.assign(t,{origin:K.origin});const f=t.origin,y=Ie(t);return y.isIdentity?u.slice(0):R(u,(h,x,b,A)=>{l.x=b,l.y=A,[c]=h;const w=c.toUpperCase(),M=w!==c?qt(h,x,b,A):h.slice(0);let d=w==="A"?Rt(M,l):["V","H"].includes(w)?W(M,l):M;c=d[0];const v=c==="C"&&d.length>7,L=v?d.slice(0,7):d.slice(0);if(v&&(u.splice(x+1,0,["C"].concat(d.slice(7))),d=L),c==="L")[n,i]=Xt(y,[d[1],d[2]],f),s!==n&&r!==i?d=["L",n,i]:r===i?d=["H",n]:s===n&&(d=["V",i]);else for(o=1,a=d.length;o<a;o+=2)[n,i]=Xt(y,[+d[o],+d[o+1]],f),d[o]=n,d[o+1]=i;s=n,r=i;const T=L.length;return l.x1=+L[T-2],l.y1=+L[T-1],l.x2=+L[T-4]||l.x1,l.y2=+L[T-3]||l.y1,d})};class g{constructor(t,s){const r=s||{},n=typeof t>"u";if(n||!t.length)throw TypeError(`${I}: "pathValue" is ${n?"undefined":"empty"}`);this.segments=E(t);const{round:i,origin:o}=r;let a;Number.isInteger(i)||i==="off"?a=i:a=K.round;let c=K.origin;if(Array.isArray(o)&&o.length>=2){const[l,u,m]=o.map(Number);c=[Number.isNaN(l)?0:l,Number.isNaN(u)?0:u,Number.isNaN(m)?0:m]}return this.round=a,this.origin=c,this}get bbox(){return Pe(this.segments)}get length(){return rt(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(t){return ht(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=pt(t),this}toRelative(){const{segments:t}=this;return this.segments=me(t),this}toCurve(){const{segments:t}=this;return this.segments=bt(t),this}reverse(t){this.toAbsolute();const{segments:s}=this,r=je(s),n=r.length>1?r:!1,i=n?n.map((a,c)=>t?c?Tt(a):a.slice(0):Tt(a)):s.slice(0);let o=[];return n?o=i.flat(1):o=t?s:Tt(s),this.segments=o.slice(0),this}normalize(){const{segments:t}=this;return this.segments=mt(t),this}optimize(){const{segments:t}=this,s=this.round==="off"?2:this.round;return this.segments=Re(t,s),this}transform(t){if(!t||typeof t!="object"||typeof t=="object"&&!["translate","rotate","skew","scale"].some(c=>c in t))return this;const{segments:s,origin:[r,n,i]}=this,o={};for(const[c,l]of Object.entries(t))c==="skew"&&Array.isArray(l)||(c==="rotate"||c==="translate"||c==="origin"||c==="scale")&&Array.isArray(l)?o[c]=l.map(Number):c!=="origin"&&typeof Number(l)=="number"&&(o[c]=Number(l));const{origin:a}=o;if(Array.isArray(a)&&a.length>=2){const[c,l,u]=a.map(Number);o.origin=[Number.isNaN(c)?r:c,Number.isNaN(l)?n:l,u||i]}else o.origin=[r,n,i];return this.segments=Se(s,o),this}flipX(){const{cx:t,cy:s}=this.bbox;return this.transform({rotate:[0,180,0],origin:[t,s,0]}),this}flipY(){const{cx:t,cy:s}=this.bbox;return this.transform({rotate:[180,0,0],origin:[t,s,0]}),this}toString(){return jt(this.segments,this.round)}}return p(g,"CSSMatrix",C),p(g,"pathToAbsolute",pt),p(g,"pathToRelative",me),p(g,"pathToCurve",bt),p(g,"pathToString",jt),p(g,"arcTools",Oe),p(g,"bezierTools",{Cvalues:xe,Tvalues:Bt,minmaxC:_t,minmaxQ:Mt,getBezierLength:ut,bezierLength:de,calculateBezier:be,computeBezier:pe,deriveBezier:ge,CBEZIER_MINMAX_EPSILON:Ae}),p(g,"cubicTools",{getCubicLength:Ft,getCubicBBox:Ne,getPointAtCubicLength:we,getPointAtCubicSegmentLength:Me}),p(g,"lineTools",{getPointAtLineLength:St,getLineBBox:Dt,getLineLength:lt}),p(g,"quadTools",{getPointAtQuadSegmentLength:Le,getQuadLength:Ht,getQuadBBox:Te,getPointAtQuadLength:ve}),p(g,"polygonTools",{polygonArea:Qe,polygonLength:Be}),p(g,"distanceSquareRoot",dt),p(g,"distanceEpsilon",wt),p(g,"midPoint",Z),p(g,"rotateVector",at),p(g,"roundTo",z),p(g,"finalizeSegment",Pt),p(g,"invalidPathValue",H),p(g,"isArcCommand",le),p(g,"isDigit",F),p(g,"isDigitStart",ae),p(g,"isMoveCommand",ue),p(g,"isPathCommand",ce),p(g,"isSpace",oe),p(g,"paramsCount",nt),p(g,"paramsParser",U),p(g,"pathParser",zt),p(g,"scanFlag",re),p(g,"scanParam",ie),p(g,"scanSegment",$t),p(g,"skipSpaces",st),p(g,"getPathBBox",Pe),p(g,"getPathArea",Ce),p(g,"getTotalLength",rt),p(g,"getDrawDirection",He),p(g,"getPointAtLength",ht),p(g,"getPropertiesAtLength",Ut),p(g,"getPropertiesAtPoint",Nt),p(g,"getClosestPoint",_e),p(g,"getSegmentOfPoint",Xe),p(g,"getSegmentAtLength",Ue),p(g,"isPointInStroke",Ye),p(g,"isValidPath",qe),p(g,"isPathArray",Lt),p(g,"isAbsoluteArray",$e),p(g,"isRelativeArray",Ke),p(g,"isCurveArray",Je),p(g,"isNormalizedArray",ze),p(g,"shapeToPath",nn),p(g,"shapeToPathArray",ke),p(g,"shapeParams",ft),p(g,"parsePathString",E),p(g,"absolutizeSegment",qt),p(g,"arcToCubic",It),p(g,"getSVGMatrix",Ie),p(g,"iterate",R),p(g,"lineToCubic",Et),p(g,"normalizePath",mt),p(g,"normalizeSegment",W),p(g,"optimizePath",Re),p(g,"projection2d",Xt),p(g,"quadToCubic",he),p(g,"relativizeSegment",kt),p(g,"reverseCurve",rn),p(g,"reversePath",Tt),p(g,"roundPath",on),p(g,"roundSegment",vt),p(g,"segmentToCubic",Rt),p(g,"shortenSegment",Ee),p(g,"splitCubic",cn),p(g,"splitPath",je),p(g,"transformPath",Se),g}();
//# sourceMappingURL=svg-path-commander.js.map
